{"version":3,"sources":["ts/services/firebase.ts","ts/services/auth.ts","ts/utils/constants.ts","ts/utils/paths.ts","ts/components/Navigation.tsx","ts/components/AdSense.tsx","ts/components/InfoPiece.tsx","ts/components/Map.tsx","ts/services/user.ts","ts/utils/helpers.ts","ts/services/weather.ts","ts/containers/DisplayRoute/displayRouteHelpers.ts","ts/containers/DisplayRoute/RouteWeather.tsx","ts/containers/DisplayRoute/index.ts","ts/services/errors.ts","ts/containers/DisplayRoute/DisplayRoute.tsx","ts/services/savedRoutes.ts","ts/forms/Profile/validation.ts","ts/forms/Profile/index.ts","ts/forms/Profile/ProfileForm.tsx","ts/containers/Profile.tsx","theme.tsx","ts/forms/NewSavedRoute/validation.ts","ts/forms/NewSavedRoute/NewSavedRouteForm.tsx","ts/forms/NewSavedRoute/index.ts","ts/containers/SavedRoutes/NewRouteDialog.tsx","ts/containers/SavedRoutes/SavedRouteListItem.tsx","ts/containers/SavedRoutes/index.ts","ts/containers/SavedRoutes/SavedRoutes.tsx","ts/forms/ChangePassword/validation.ts","ts/forms/ChangePassword/index.ts","App.tsx","ts/forms/ChangePassword/ChangePasswordForm.tsx","ts/containers/Security.tsx","ts/containers/Weather.tsx","ts/forms/SignIn/validation.ts","ts/forms/SignIn/index.ts","ts/forms/SignIn/SignInForm.tsx","ts/components/SignIn.tsx","ts/forms/SignUp/validation.ts","ts/forms/SignUp/index.ts","ts/forms/SignUp/SignUpForm.tsx","ts/components/SignUp.tsx","AppUnauthorized.tsx","reportWebVitals.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","database","getFirestore","auth","getAuth","signOut","fireSignOut","EMAIL_REGEX","drawerWidth","Paths","home","savedRoutes","getDisplayRouteLink","id","displayRoute","weather","profile","security","signIn","signUp","Navigation","React","mobileOpen","setMobileOpen","handleDrawerToggle","mainMenuOptions","title","url","icon","profileMenuOptions","drawer","Toolbar","Divider","List","onClick","map","option","ListItem","button","component","Link","to","ListItemIcon","Icon","ListItemText","primary","location","reload","AppBar","position","sx","width","sm","ml","IconButton","color","aria-label","edge","mr","display","Typography","variant","noWrap","marginLeft","Box","flexShrink","Drawer","container","undefined","open","onClose","ModalProps","keepMounted","xs","boxSizing","AdSense","mt","dangerouslySetInnerHTML","__html","InfoPiece","props","label","children","MapCanvas","forwardRef","ref","style","height","Map","directionsQuery","beginEndCallback","useState","mapContainer","setMapContainer","mapRef","useCallback","node","googleMapsAPIKey","process","options","zoom","fullscreenControl","streetViewControl","zoomControl","mapTypeControl","onLoad","setZoom","PlotRoute","legCallback","findAndRenderRoute","useDirections","renderOnMap","renderOptions","useEffect","start","end","origin","destination","travelMode","google","maps","TravelMode","DRIVING","then","r","leg","routes","legs","beginLocation","lat","start_location","lon","lng","endLocation","end_location","beginAddress","start_address","endAddress","end_address","catch","e","console","error","displayName","memo","formatUser","user","uid","name","email","phone","phoneNumber","lastSignIn","metadata","lastSignInTime","Date","getUser","currentUser","round","num","decimals","Math","pow","formatTime","dateTime","hours","getHours","minutes","getMinutes","ampm","stripUSA","address","replace","newFormState","fields","state","values","messages","isValid","touched","validators","formValid","formMessage","attemptedSubmit","field","beforeSubmit","key","validateForm","handleValueChange","event","target","value","fieldValues","getWeather","get","params","appid","units","data","timePoints","updateLoading","a","timePointWeather","timePoint","p","length","point","hour","time","push","hourly","RouteWeather","weatherLoadProgress","setWeatherLoadProgress","setTimePointWeather","getTimePointWeather","maxPoints","interval","min","reducedTimePoints","targetTime","index","findIndex","t1","t2","selectedTimePoint","abs","reduceTimePoints","timeAccumulator","steps","step","duration","getTimePoints","arr","TableContainer","Paper","maxWidth","overflow","Table","TableHead","TableRow","TableCell","TableBody","i","border","secondsOffset","getTime","temp","pop","clouds","LinearProgress","DisplayRoute","ModelName","urlParams","useParams","route","setRoute","setLeg","getDoc","doc","Promise","resolve","reject","getSavedRoute","Container","text","distance","mb","pb","textAlign","CircularProgress","getMessage","message","ErrorMessages","code","fieldsArray","emailValidator","match","nameValidator","ProfileForm","useContext","UserContext","updateUser","submitting","setSubmitting","getInitialFormState","formState","setFormState","hasChanged","setHasChanged","onSubmit","preventDefault","all","updateProfile","updateFireEmail","finally","noValidate","TextField","fullWidth","defaultValue","margin","onChange","onBlur","helperText","type","Alert","severity","Button","disabled","size","Profile","LinkBehavior","href","other","theme","createTheme","palette","main","secondary","components","MuiLink","defaultProps","MuiButtonBase","LinkComponent","typography","h1","fontSize","fontWeight","marginTop","h2","startValidator","endValidator","NewSavedRouteFormId","NewSavedRouteForm","submitCallback","setDirectionsQuery","beginEndResult","setBeginEndResult","updateWaypoints","Stack","gap","userCollection","collection","setDoc","newSavedRoute","beginEnd","NewRouteDialog","fullScreen","useMediaQuery","breakpoints","down","Dialog","scroll","DialogTitle","DialogContent","dividers","NewSavedRoute","DialogActions","form","SavedRouteListItem","changeCallback","anchorEl","setAnchorEl","Boolean","disablePadding","secondaryAction","currentTarget","ListItemButton","MenuListProps","MenuItem","deleteDoc","deleteSavedRoute","alert","SavedRoutes","setSavedRoutes","errorText","setErrorText","showDialog","setShowDialog","updateSavedRoutes","getDocs","forEach","getSavedRoutes","Fab","bottom","right","zIndex","sort","b","mx","password1Validator","password1","password2Validator","password2","ChangePasswordForm","password","updateFirePassword","Security","ChangePassword","Weather","currentPosition","setCurrentPosition","currentWeather","setCurrentWeather","navigator","geolocation","getCurrentPosition","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","coords","latitude","longitude","current","response","humidity","App","setUser","newUser","createContext","Provider","basename","flexGrow","exact","path","passwordValidator","SignInForm","signInWithEmailAndPassword","required","autoComplete","autoFocus","SignIn","flexDirection","alignItems","Avatar","m","bgcolor","SignUpForm","createUserWithEmailAndPassword","credential","SignUp","AppUnauthorized","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","window","hostname","onAuthStateChanged","fireUser","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f318d550.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app'\nimport { getFirestore } from 'firebase/firestore'\n\n// These keys will be exposed on the client frontend, but this is safe\n// Security is enforced through Firebase security rules\n// See more: https://stackoverflow.com/questions/37482366/is-it-safe-to-expose-firebase-apikey-to-the-public/\nconst firebaseConfig = {\n\tapiKey: 'AIzaSyCyk-8pQIXG4EJOyRa3QT0yzUfr661yuyI',\n\tauthDomain: 'weather-route-e1a9c.firebaseapp.com',\n\tprojectId: 'weather-route-e1a9c',\n\tstorageBucket: 'weather-route-e1a9c.appspot.com',\n\tmessagingSenderId: '184699653844',\n\tappId: '1:184699653844:web:74997c51e6e4b49ed83541',\n}\n\n// Initialize Firebase\nexport const firebaseApp = initializeApp(firebaseConfig)\nexport const database = getFirestore()\n","import {\n\tgetAuth,\n\tsignInWithEmailAndPassword,\n\tsignOut as fireSignOut,\n} from 'firebase/auth'\nimport { firebaseApp } from 'ts/services/firebase'\n\nexport const auth = getAuth(firebaseApp)\n\nexport const signIn = (email: string, password: string): Promise<void> =>\n\tsignInWithEmailAndPassword(auth, email, password).then(() =>\n\t\tPromise.resolve()\n\t)\n\nexport const signOut = (): Promise<void> => fireSignOut(auth)\n","export const EMAIL_REGEX =\n\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\nexport const drawerWidth = 240\n","const Paths = {\n\thome: '/home',\n\tsavedRoutes: '/saved-routes',\n\tgetDisplayRouteLink: (id: string): string => `/display-route/${id}`,\n\tdisplayRoute: '/display-route/:id',\n\tweather: '/weather',\n\tprofile: '/profile',\n\tsecurity: '/security',\n\tsignIn: '/signin',\n\tsignUp: '/signup',\n}\n\nexport default Paths\n","import * as React from 'react'\n\nimport { Link } from 'react-router-dom'\nimport { signOut } from 'ts/services/auth'\nimport { drawerWidth } from 'ts/utils/constants'\nimport Paths from 'ts/utils/paths'\n\nimport MenuIcon from '@mui/icons-material/Menu'\nimport { Icon } from '@mui/material'\nimport AppBar from '@mui/material/AppBar'\nimport Box from '@mui/material/Box'\nimport Divider from '@mui/material/Divider'\nimport Drawer from '@mui/material/Drawer'\nimport IconButton from '@mui/material/IconButton'\nimport List from '@mui/material/List'\nimport ListItem from '@mui/material/ListItem'\nimport ListItemIcon from '@mui/material/ListItemIcon'\nimport ListItemText from '@mui/material/ListItemText'\nimport Toolbar from '@mui/material/Toolbar'\nimport Typography from '@mui/material/Typography'\n\nexport default function Navigation(): React.ReactElement {\n\tconst [mobileOpen, setMobileOpen] = React.useState(false)\n\n\tconst handleDrawerToggle = (): void => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\ttype menuOptions = Array<{\n\t\ttitle: string\n\t\turl: string\n\t\ticon: string\n\t}>\n\n\tconst mainMenuOptions: menuOptions = [\n\t\t// { title: 'Home', url: Paths.home, icon: 'home' },\n\t\t{ title: 'Saved Routes', url: Paths.savedRoutes, icon: 'star' },\n\t\t{ title: 'Weather', url: Paths.weather, icon: 'wb_sunny' },\n\t]\n\n\tconst profileMenuOptions: menuOptions = [\n\t\t{ title: 'Profile', url: Paths.profile, icon: 'account_circle' },\n\t\t{ title: 'Security', url: Paths.security, icon: 'lock' },\n\t]\n\n\tconst drawer = (\n\t\t<div>\n\t\t\t<Toolbar />\n\t\t\t<Divider />\n\t\t\t<List onClick={handleDrawerToggle}>\n\t\t\t\t{mainMenuOptions.map(option => (\n\t\t\t\t\t<ListItem button component={Link} to={option.url} key={option.title}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Icon>{option.icon}</Icon>\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={option.title} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t\t<Divider />\n\t\t\t<List onClick={handleDrawerToggle}>\n\t\t\t\t{profileMenuOptions.map(option => (\n\t\t\t\t\t<ListItem button component={Link} to={option.url} key={option.title}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Icon>{option.icon}</Icon>\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={option.title} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t\t<ListItem button onClick={(): void => location.reload()}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<Icon>refresh</Icon>\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary='Refresh' />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem button onClick={signOut}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<Icon>logout</Icon>\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary='Sign Out' />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<>\n\t\t\t<AppBar\n\t\t\t\tposition='fixed'\n\t\t\t\tsx={{\n\t\t\t\t\twidth: { sm: `calc(100% - ${drawerWidth}px)` },\n\t\t\t\t\tml: { sm: `${drawerWidth}px` },\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tedge='start'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tsx={{ mr: 2, display: { sm: 'none' } }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography variant='h6' noWrap component='div'>\n\t\t\t\t\t\tWeather Route\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\tonClick={(): void => location.reload()}\n\t\t\t\t\t\tsx={{ marginLeft: 'auto' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon>map</Icon>\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<Box\n\t\t\t\tcomponent='nav'\n\t\t\t\tsx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n\t\t\t\taria-label='mailbox folders'\n\t\t\t>\n\t\t\t\t<Drawer\n\t\t\t\t\tcontainer={undefined}\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: { xs: 'block', sm: 'none' },\n\t\t\t\t\t\t'& .MuiDrawer-paper': {\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t\twidth: drawerWidth,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: { xs: 'none', sm: 'block' },\n\t\t\t\t\t\t'& .MuiDrawer-paper': {\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t\twidth: drawerWidth,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Box>\n\t\t</>\n\t)\n}\n","import React from 'react'\n\nimport { Box } from '@mui/system'\n\nexport default function AdSense(): React.ReactElement {\n\treturn (\n\t\t<Box sx={{ mt: 3 }}>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html:\n\t\t\t\t\t\t'<div style=\"position:absolute;top:1px;right:1px;width:15px;height:15px;\"><svg style=\"fill:#00aecd;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 15 15\"><circle cx=\"6\" cy=\"6\" r=\"0.67\"></circle><path d=\"M4.2,11.3Q3.3,11.8,3.3,10.75L3.3,4.1Q3.3,3.1,4.3,3.5L10.4,7.0Q12.0,7.5,10.4,8.0L6.65,10.0L6.65,7.75a0.65,0.65,0,1,0,-1.3,0L5.35,10.75a0.9,0.9,0,0,0,1.3,0.8L12.7,8.2Q13.7,7.5,12.7,6.7L3.3,1.6Q2.2,1.3,1.8,2.5L1.8,12.5Q2.2,13.9,3.3,13.3L4.8,12.5A0.3,0.3,0,1,0,4.2,11.3Z\"></path></svg></div><div class=\"adContainer\"><div class=\"logo\"><img width=\"40\" height=\"40\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNTVweCIgaGVpZ2h0PSI1NnB4IiB2aWV3Qm94PSIwIDAgNTUgNTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5sb2dvX2dvb2dsZWdfNDhkcDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJNMl92MiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjAyYV9hdXRvX2FkcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQxNy4wMDAwMDAsIC03MDUuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJtb2JpbGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3OC4wMDAwMDAsIDE2NC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDc0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHUC1hZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCA0NDQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJsb2dvX2dvb2dsZWdfNDhkcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDAwMDAwLCAyMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01NC44OCwyOC42MzYzNjM2IEM1NC44OCwyNi42NTA5MDkxIDU0LjcwMTgxODIsMjQuNzQxODE4MiA1NC4zNzA5MDkxLDIyLjkwOTA5MDkgTDI4LDIyLjkwOTA5MDkgTDI4LDMzLjc0IEw0My4wNjkwOTA5LDMzLjc0IEM0Mi40MiwzNy4yNCA0MC40NDcyNzI3LDQwLjIwNTQ1NDUgMzcuNDgxODE4Miw0Mi4xOTA5MDkxIEwzNy40ODE4MTgyLDQ5LjIxNjM2MzYgTDQ2LjUzMDkwOTEsNDkuMjE2MzYzNiBDNTEuODI1NDU0NSw0NC4zNDE4MTgyIDU0Ljg4LDM3LjE2MzYzNjQgNTQuODgsMjguNjM2MzYzNiBaIiBpZD0iU2hhcGUiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4LDU2IEMzNS41Niw1NiA0MS44OTgxODE4LDUzLjQ5MjcyNzMgNDYuNTMwOTA5MSw0OS4yMTYzNjM2IEwzNy40ODE4MTgyLDQyLjE5MDkwOTEgQzM0Ljk3NDU0NTUsNDMuODcwOTA5MSAzMS43NjcyNzI3LDQ0Ljg2MzYzNjQgMjgsNDQuODYzNjM2NCBDMjAuNzA3MjcyNyw0NC44NjM2MzY0IDE0LjUzNDU0NTUsMzkuOTM4MTgxOCAxMi4zMzI3MjczLDMzLjMyIEwyLjk3ODE4MTgyLDMzLjMyIEwyLjk3ODE4MTgyLDQwLjU3NDU0NTUgQzcuNTg1NDU0NTUsNDkuNzI1NDU0NSAxNy4wNTQ1NDU1LDU2IDI4LDU2IFoiIGlkPSJTaGFwZSIgZmlsbD0iIzM0QTg1MyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzMyNzI3MywzMy4zMiBDMTEuNzcyNzI3MywzMS42NCAxMS40NTQ1NDU1LDI5Ljg0NTQ1NDUgMTEuNDU0NTQ1NSwyOCBDMTEuNDU0NTQ1NSwyNi4xNTQ1NDU1IDExLjc3MjcyNzMsMjQuMzYgMTIuMzMyNzI3MywyMi42OCBMMTIuMzMyNzI3MywxNS40MjU0NTQ1IEwyLjk3ODE4MTgyLDE1LjQyNTQ1NDUgQzEuMDgxODE4MTgsMTkuMjA1NDU0NSAwLDIzLjQ4MTgxODIgMCwyOCBDMCwzMi41MTgxODE4IDEuMDgxODE4MTgsMzYuNzk0NTQ1NSAyLjk3ODE4MTgyLDQwLjU3NDU0NTUgTDEyLjMzMjcyNzMsMzMuMzIgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOCwxMS4xMzYzNjM2IEMzMi4xMTA5MDkxLDExLjEzNjM2MzYgMzUuODAxODE4MiwxMi41NDkwOTA5IDM4LjcwMzYzNjQsMTUuMzIzNjM2NCBMNDYuNzM0NTQ1NSw3LjI5MjcyNzI3IEM0MS44ODU0NTQ1LDIuNzc0NTQ1NDUgMzUuNTQ3MjcyNywwIDI4LDAgQzE3LjA1NDU0NTUsMCA3LjU4NTQ1NDU1LDYuMjc0NTQ1NDUgMi45NzgxODE4MiwxNS40MjU0NTQ1IEwxMi4zMzI3MjczLDIyLjY4IEMxNC41MzQ1NDU1LDE2LjA2MTgxODIgMjAuNzA3MjcyNywxMS4xMzYzNjM2IDI4LDExLjEzNjM2MzYgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjRUE0MzM1IiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgcG9pbnRzPSIwIDAgNTYgMCA1NiA1NiAwIDU2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"></div><div class=\"text\"><div class=\"adText\">Auto ad example</div><div class=\"areaText\">In-page ad</div></div><div class=\"button\"><div id=\"delete-button\" class=\"button-inner\" style=\"cursor:pointer;\" role=\"button\"><svg width=\"48\" height=\"48\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>Remove</title><defs><circle id=\"b\" cx=\"20\" cy=\"20\" r=\"20\"></circle><filter x=\"-16.2%\" y=\"-13.8%\" width=\"132.5%\" height=\"132.5%\" filterUnits=\"objectBoundingBox\" id=\"a\"><feMorphology radius=\".5\" operator=\"dilate\" in=\"SourceAlpha\" result=\"shadowSpreadOuter1\"></feMorphology><feOffset dy=\"1\" in=\"shadowSpreadOuter1\" result=\"shadowOffsetOuter1\"></feOffset><feGaussianBlur stdDeviation=\"1.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"></feGaussianBlur><feColorMatrix values=\"0 0 0 0 0.235294118 0 0 0 0 0.250980392 0 0 0 0 0.262745098 0 0 0 0.15 0\" in=\"shadowBlurOuter1\" result=\"shadowMatrixOuter1\"></feColorMatrix><feOffset dy=\"1\" in=\"SourceAlpha\" result=\"shadowOffsetOuter2\"></feOffset><feGaussianBlur stdDeviation=\"1\" in=\"shadowOffsetOuter2\" result=\"shadowBlurOuter2\"></feGaussianBlur><feColorMatrix values=\"0 0 0 0 0.235294118 0 0 0 0 0.250980392 0 0 0 0 0.262745098 0 0 0 0.3 0\" in=\"shadowBlurOuter2\" result=\"shadowMatrixOuter2\"></feColorMatrix><feMerge><feMergeNode in=\"shadowMatrixOuter1\"></feMergeNode><feMergeNode in=\"shadowMatrixOuter2\"></feMergeNode></feMerge></filter><path d=\"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9V8zm4 0h2v9h-2V8z\" id=\"c\"></path></defs><g fill=\"none\" fill-rule=\"evenodd\"><g transform=\"translate(4 3)\"><use fill=\"#000\" filter=\"url(#a)\" xlink:href=\"#b\"></use><use fill=\"#FFF\" xlink:href=\"#b\"></use></g><g transform=\"translate(12 11)\"><mask id=\"d\" fill=\"#fff\"><use xlink:href=\"#c\"></use></mask><g mask=\"url(#d)\" fill=\"#5F6368\"><path d=\"M0 0h24v24H0z\"></path></g></g></g></svg></div></div></div>',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\n\nimport { Box } from '@mui/system'\n\ninterface InfoPieceProps {\n\tlabel: string\n\tchildren: React.ReactNode\n}\n\nexport default function InfoPiece(props: InfoPieceProps): React.ReactElement {\n\treturn (\n\t\t<Box sx={{ mt: 1 }}>\n\t\t\t<b>{props.label}</b>\n\t\t\t<br />\n\t\t\t{props.children}\n\t\t</Box>\n\t)\n}\n","import React, { LegacyRef, useCallback, useEffect, useState } from 'react'\n\nimport { BeginEnd, DirectionsQuery } from 'ts/utils/models'\n\nimport { Box, SxProps } from '@mui/system'\nimport {\n\tGoogleMapProvider,\n\tuseDirections,\n} from '@ubilabs/google-maps-react-hooks'\n\nconst MapCanvas = React.forwardRef((props, ref: LegacyRef<HTMLDivElement>) => (\n\t<div ref={ref} style={{ height: '100%' }} />\n))\nMapCanvas.displayName = 'MapCanvas'\n\nexport type MapProps = {\n\tdirectionsQuery: DirectionsQuery\n\tbeginEndCallback?: (beginEnd: BeginEnd | null) => void\n\tlegCallback?: (leg: google.maps.DirectionsLeg | null) => void\n\tsx?: SxProps\n}\n\nfunction Map(props: MapProps): React.ReactElement {\n\tconst { directionsQuery, beginEndCallback, sx } = props\n\tconst [mapContainer, setMapContainer] = useState(null)\n\tconst mapRef = useCallback(node => {\n\t\tnode && setMapContainer(node)\n\t}, [])\n\n\treturn (\n\t\t<Box height='100%' sx={sx}>\n\t\t\t<GoogleMapProvider\n\t\t\t\tgoogleMapsAPIKey={process.env.REACT_APP_GOOGLE_MAPS_KEY ?? ''}\n\t\t\t\tmapContainer={mapContainer}\n\t\t\t\toptions={{\n\t\t\t\t\t// center: {lat: -34.397, lng: 150.644},\n\t\t\t\t\tzoom: 8,\n\t\t\t\t\tfullscreenControl: false,\n\t\t\t\t\tstreetViewControl: false,\n\t\t\t\t\tzoomControl: false,\n\t\t\t\t\tmapTypeControl: false,\n\t\t\t\t}}\n\t\t\t\tonLoad={(map): void => map.setZoom(4)}\n\t\t\t>\n\t\t\t\t<MapCanvas ref={mapRef} />\n\t\t\t\t<PlotRoute\n\t\t\t\t\tdirectionsQuery={directionsQuery}\n\t\t\t\t\tbeginEndCallback={beginEndCallback}\n\t\t\t\t\tlegCallback={props.legCallback}\n\t\t\t\t/>\n\t\t\t</GoogleMapProvider>\n\t\t</Box>\n\t)\n}\n\nfunction PlotRoute(props: {\n\tdirectionsQuery: DirectionsQuery\n\tbeginEndCallback?: (beginEnd: BeginEnd | null) => void\n\tlegCallback?: (leg: google.maps.DirectionsLeg | null) => void\n}): React.ReactElement {\n\tconst { directionsQuery, beginEndCallback, legCallback } = props\n\t// const { map } = useGoogleMap()\n\tconst {\n\t\t// directionsService,\n\t\t// findRoute,\n\t\tfindAndRenderRoute,\n\t\t// renderRouteOfIndex,\n\t} = useDirections({\n\t\trenderOnMap: true,\n\t\trenderOptions: {},\n\t})\n\n\tuseEffect(() => {\n\t\tif (findAndRenderRoute && directionsQuery.start && directionsQuery.end) {\n\t\t\tfindAndRenderRoute({\n\t\t\t\torigin: directionsQuery.start,\n\t\t\t\tdestination: directionsQuery.end,\n\t\t\t\ttravelMode: google.maps.TravelMode.DRIVING,\n\t\t\t})\n\t\t\t\t.then(r => {\n\t\t\t\t\tconst leg = r.routes[0].legs[0]\n\t\t\t\t\tif (beginEndCallback)\n\t\t\t\t\t\tbeginEndCallback({\n\t\t\t\t\t\t\tbeginLocation: {\n\t\t\t\t\t\t\t\tlat: leg.start_location.lat(),\n\t\t\t\t\t\t\t\tlon: leg.start_location.lng(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tendLocation: {\n\t\t\t\t\t\t\t\tlat: leg.end_location.lat(),\n\t\t\t\t\t\t\t\tlon: leg.end_location.lng(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbeginAddress: leg.start_address,\n\t\t\t\t\t\t\tendAddress: leg.end_address,\n\t\t\t\t\t\t})\n\t\t\t\t\tif (legCallback) legCallback(leg)\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tbeginEndCallback && beginEndCallback(null)\n\t\t\t\t\tconsole.error('Error finding route:', e)\n\t\t\t\t})\n\t\t}\n\t}, [directionsQuery.start, directionsQuery.end, findAndRenderRoute])\n\n\treturn <></>\n}\n\nMap.displayName = 'Map'\nexport default React.memo(Map)\n","import {\n\tcreateUserWithEmailAndPassword,\n\tupdateEmail as updateFireEmail,\n\tupdatePassword as updateFirePassword,\n\tupdateProfile,\n\tUser as FireUser,\n} from 'firebase/auth'\nimport { auth } from 'ts/services/auth'\nimport { User } from 'ts/utils/models'\n\nexport const formatUser = (user: FireUser | null): User | null => {\n\tif (user)\n\t\treturn {\n\t\t\tid: user.uid,\n\t\t\tname: user.displayName,\n\t\t\temail: user.email,\n\t\t\tphone: user.phoneNumber,\n\t\t\tlastSignIn:\n\t\t\t\t(user.metadata.lastSignInTime &&\n\t\t\t\t\tnew Date(user.metadata.lastSignInTime)) ||\n\t\t\t\tundefined,\n\t\t}\n\telse return null\n}\n\n// --------------------------------------------------\n//   POST\n// --------------------------------------------------\n\nexport const signUp = (\n\temail: string,\n\tpassword: string,\n\tname?: string\n): Promise<void> =>\n\tcreateUserWithEmailAndPassword(auth, email, password).then(credential =>\n\t\tupdateProfile(credential.user, { displayName: name })\n\t)\n\n// --------------------------------------------------\n//   GET\n// --------------------------------------------------\n\nexport const getUser = (): User | null => formatUser(auth.currentUser)\n\n// --------------------------------------------------\n//   PATCH\n// --------------------------------------------------\n\nexport const updateName = (name: string): Promise<void> =>\n\tauth.currentUser\n\t\t? updateProfile(auth.currentUser, { displayName: name })\n\t\t: Promise.reject()\n\nexport const updateEmail = (email: string): Promise<void> =>\n\tauth.currentUser ? updateFireEmail(auth.currentUser, email) : Promise.reject()\n\nexport const updatePassword = (password: string): Promise<void> =>\n\tauth.currentUser\n\t\t? updateFirePassword(auth.currentUser, password)\n\t\t: Promise.reject()\n","import { FormState } from 'ts/utils/models'\n\n/* --------------------------------------\n\t\t\t\t\t\t\tVALUES\n-------------------------------------- */\n\nexport const round = (num: number, decimals = 3): number => {\n\treturn Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals)\n}\n\n// Format date to hh:mm a\nexport const formatTime = (dateTime: Date): string => {\n\tconst hours = dateTime.getHours()\n\tconst minutes =\n\t\tdateTime.getMinutes() < 10\n\t\t\t? `0${dateTime.getMinutes()}`\n\t\t\t: dateTime.getMinutes()\n\tconst ampm = hours >= 12 ? 'pm' : 'am'\n\tconst hour = hours % 12 === 0 ? 12 : hours % 12\n\n\treturn `${hour}:${minutes} ${ampm}`\n}\n\nexport const stripUSA = (address: string): string =>\n\taddress.replace(', USA', '')\n\n/* --------------------------------------\n\t\t\t\t\t\t\tFORM STATE\n-------------------------------------- */\nexport function newFormState<FieldNames extends string>(\n\tfields: readonly FieldNames[]\n): FormState<FieldNames> {\n\tconst state: FormState<FieldNames> = {\n\t\tvalues: {} as Record<FieldNames, string>,\n\t\tmessages: {} as Record<FieldNames, string>,\n\t\tisValid: {} as Record<FieldNames, boolean>,\n\t\ttouched: {} as Record<FieldNames, boolean>,\n\t\tvalidators: {} as Record<\n\t\t\tFieldNames,\n\t\t\t(state: FormState<FieldNames>) => FormState<FieldNames>\n\t\t>,\n\t\tformValid: false,\n\t\tformMessage: '',\n\t\tattemptedSubmit: false,\n\t}\n\tfor (const field of fields) {\n\t\tstate.values[field] = ''\n\t\tstate.messages[field] = ''\n\t\tstate.isValid[field] = false\n\t\tstate.touched[field] = false\n\t\tstate.validators[field] = (): FormState<FieldNames> => state\n\t}\n\treturn state\n}\n\nexport function beforeSubmit<FieldNames extends string>(\n\tstate: FormState<FieldNames>\n): FormState<FieldNames> {\n\tstate = validateForm(state)\n\tfor (const key in state.touched) state.touched[key] = true\n\tstate.attemptedSubmit = true\n\tif (!state.formValid) state.formMessage = 'Please fix the errors in the form'\n\treturn state\n}\n\nexport function validateForm<FieldNames extends string>(\n\tstate: FormState<FieldNames>\n): FormState<FieldNames> {\n\tlet isValid = true\n\tfor (const key in state.validators) {\n\t\tstate = state.validators[key](state)\n\t\tif (!state.isValid[key]) isValid = false\n\t}\n\tstate.formValid = isValid\n\treturn state\n}\n\nexport function handleValueChange<FieldNames extends string>(\n\tevent: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n\tstate: FormState<FieldNames>\n): FormState<FieldNames> {\n\tconst name = event.target.name as FieldNames\n\tconst value = event.target.value\n\n\tif (!state.isValid[name]) state = state.validators[name](state)\n\tconst fieldValues = state.values\n\tfieldValues[name] = value\n\treturn { ...state, values: fieldValues }\n}\n","import get from 'axios'\nimport { Weather } from 'ts/utils/models'\n\nconst openWeatherMapApi = 'https://api.openweathermap.org/data/2.5'\n\nexport const getWeather = (lat: number, lon: number): Promise<Weather> =>\n\tget(`${openWeatherMapApi}/onecall`, {\n\t\tparams: {\n\t\t\tlat: lat,\n\t\t\tlon: lon,\n\t\t\tappid: process.env.REACT_APP_OPEN_WEATHER_MAP,\n\t\t\tunits: 'imperial',\n\t\t},\n\t}).then(r => r.data)\n","import { getWeather } from 'ts/services/weather'\nimport { TimePoint, TimePointWeather } from 'ts/utils/models'\n\n/**\n *\n * @param leg Google maps leg\n * @returns A list of objects containing the time and location at each location along the route\n */\nexport function getTimePoints(leg: google.maps.DirectionsLeg): TimePoint[] {\n\tconst timePoints: TimePoint[] = []\n\tlet timeAccumulator = 0\n\tfor (const step of leg.steps) {\n\t\ttimePoints.push({\n\t\t\ttime: timeAccumulator,\n\t\t\tpoint: {\n\t\t\t\tlat: step.start_location.lat(),\n\t\t\t\tlon: step.start_location.lng(),\n\t\t\t},\n\t\t})\n\t\ttimeAccumulator += step.duration?.value ?? 0\n\t}\n\ttimePoints.push({\n\t\ttime: timeAccumulator,\n\t\tpoint: {\n\t\t\tlat: leg.end_location.lat(),\n\t\t\tlon: leg.end_location.lng(),\n\t\t},\n\t})\n\treturn timePoints\n}\n\n/**\n *\n * @param timePoints a list of coordinates with respective times\n * @param interval the target time between points\n * @returns a shorter list of TimePoints where the time between them is approx 'interval'\n */\nexport function reduceTimePoints(\n\ttimePoints: TimePoint[],\n\tmaxPoints = 5\n): TimePoint[] {\n\tconst interval =\n\t\tMath.min(timePoints[timePoints.length - 1].time, 172800) / maxPoints\n\tconst reducedTimePoints: TimePoint[] = []\n\tfor (\n\t\tlet targetTime = 0;\n\t\ttargetTime < timePoints[timePoints.length - 1].time;\n\t\ttargetTime += interval\n\t) {\n\t\t// Find the index of the point after the target time\n\t\tconst index = timePoints.findIndex(\n\t\t\ttimePoint => timePoint.time >= targetTime\n\t\t)\n\t\tif (index === 0) {\n\t\t\treducedTimePoints.push(timePoints[0])\n\t\t} else {\n\t\t\t// Get the points before (t1) and after (t2) the target time\n\t\t\tconst t1 = timePoints[index]\n\t\t\tconst t2 = timePoints[index - 1]\n\n\t\t\t// Determine if t1 or t2 is closer to the target time\n\t\t\tconst selectedTimePoint =\n\t\t\t\tMath.abs(t1.time - targetTime) < Math.abs(t2.time - targetTime)\n\t\t\t\t\t? t1\n\t\t\t\t\t: t2\n\n\t\t\t// Add the selected time point to the reduced list if it is not already there\n\t\t\tif (\n\t\t\t\treducedTimePoints.length == 0 ||\n\t\t\t\treducedTimePoints[reducedTimePoints.length - 1].time !==\n\t\t\t\t\tselectedTimePoint.time\n\t\t\t) {\n\t\t\t\treducedTimePoints.push(selectedTimePoint)\n\t\t\t}\n\t\t}\n\t}\n\treturn reducedTimePoints\n}\n\n// Given an array of TimePoints, return an array of TimePointWeathr objects, getting the weather for each TimePoint\nexport async function getTimePointWeather(\n\ttimePoints: TimePoint[],\n\tupdateLoading?: (percentage: number | ((previous: number) => number)) => void\n): Promise<TimePointWeather[]> {\n\tconst timePointWeather: TimePointWeather[] = []\n\n\tfor (const timePoint of timePoints) {\n\t\tupdateLoading && updateLoading(p => p + 100 / timePoints.length)\n\t\tconst weather = await getWeather(timePoint.point.lat, timePoint.point.lon)\n\t\tconst hour = Math.round(timePoint.time / 3600)\n\t\tif (hour > 47) break\n\n\t\ttimePointWeather.push({\n\t\t\t...timePoint,\n\t\t\tweather: weather.hourly[hour],\n\t\t})\n\t}\n\tupdateLoading && updateLoading(100)\n\treturn timePointWeather\n}\n","import React, { useEffect } from 'react'\n\nimport { formatTime } from 'ts/utils/helpers'\nimport { TimePointWeather } from 'ts/utils/models'\n\nimport {\n\tLinearProgress,\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n} from '@mui/material'\n\nimport {\n\tgetTimePoints,\n\tgetTimePointWeather,\n\treduceTimePoints,\n} from './displayRouteHelpers'\n\nexport default function RouteWeather(props: {\n\tleg: google.maps.DirectionsLeg | null\n}): React.ReactElement {\n\tconst { leg } = props\n\tconst [weatherLoadProgress, setWeatherLoadProgress] = React.useState(0)\n\tconst [timePointWeather, setTimePointWeather] =\n\t\tReact.useState<TimePointWeather[]>()\n\n\tuseEffect(() => {\n\t\tif (leg) {\n\t\t\tconst timePoints = reduceTimePoints(getTimePoints(leg), 8)\n\t\t\tgetTimePointWeather(timePoints, setWeatherLoadProgress).then(arr => {\n\t\t\t\tsetTimePointWeather(arr)\n\t\t\t})\n\t\t}\n\t}, [leg])\n\n\tfunction createJsDate(secondsOffset: number): Date {\n\t\treturn new Date(new Date().getTime() + secondsOffset * 1000)\n\t}\n\n\tif (!timePointWeather) {\n\t\treturn <LinearProgress variant='determinate' value={weatherLoadProgress} />\n\t}\n\n\treturn (\n\t\t<TableContainer\n\t\t\tcomponent={Paper}\n\t\t\tsx={{ maxWidth: '100%', overflow: 'scroll' }}\n\t\t>\n\t\t\t<Table>\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Time</TableCell>\n\t\t\t\t\t\t<TableCell>Temp.</TableCell>\n\t\t\t\t\t\t<TableCell>Precip.</TableCell>\n\t\t\t\t\t\t<TableCell>Clouds</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{timePointWeather.map((weather, i) => (\n\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tsx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableCell>{formatTime(createJsDate(weather.time))}</TableCell>\n\t\t\t\t\t\t\t<TableCell>{Math.round(weather.weather.temp)}º</TableCell>\n\t\t\t\t\t\t\t<TableCell>{Math.round(weather.weather.pop * 100)}%</TableCell>\n\t\t\t\t\t\t\t<TableCell>{weather.weather.clouds}%</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n","import DisplayRoute from './DisplayRoute'\n\nexport default DisplayRoute\n","import { AuthError, AuthErrorCodes } from '@firebase/auth'\n\nexport enum ModelName {\n\tauth = 'auth',\n\tuser = 'user',\n}\n\nexport type FirebaseError = Record<string, string>\n\nexport const requiresReAuth = (e: AuthError): boolean =>\n\te.code === AuthErrorCodes.CREDENTIAL_TOO_OLD_LOGIN_AGAIN\n\nexport const getMessage = (e: AuthError): string => {\n\tconst message = ErrorMessages[e.code]\n\treturn (\n\t\tmessage ?? e.message.replace('Firebase: ', '').replace(` (${e.code})`, '')\n\t)\n}\n\nexport const ErrorMessages: FirebaseError = {\n\t'auth/email-already-exists': 'An account already exists with this email.',\n\t'auth/requires-recent-login':\n\t\t'Recent login required. Please sign out then sign back in to perform this action',\n\t'auth/weak-password': 'This password is too weak',\n\t'auth/invalid-password': 'This password is invalid.',\n\t'auth/invalid-email': 'Email address is invalid',\n\t'auth/user-not-found': 'Account does not exist for this email address',\n\t'auth/wrong-password': 'Incorrect password',\n\t'auth/email-already-in-use': 'An account already exists with this email',\n}\n","import React, { useEffect } from 'react'\n\nimport { useParams } from 'react-router-dom'\nimport AdSense from 'ts/components/AdSense'\nimport InfoPiece from 'ts/components/InfoPiece'\nimport Map from 'ts/components/Map'\nimport { getSavedRoute } from 'ts/services/savedRoutes'\nimport { stripUSA } from 'ts/utils/helpers'\nimport { SavedRoute } from 'ts/utils/models'\n\nimport { CircularProgress, Container, Typography } from '@mui/material'\n\nimport RouteWeather from './RouteWeather'\n\nexport default function DisplayRoute(): React.ReactElement {\n\tconst urlParams = useParams<{ id: string }>()\n\tconst [route, setRoute] = React.useState<SavedRoute>()\n\tconst [leg, setLeg] = React.useState<google.maps.DirectionsLeg | null>(null)\n\n\tuseEffect(() => {\n\t\tgetSavedRoute(urlParams.id).then(r => setRoute(r))\n\t}, [])\n\n\tif (!route) {\n\t\treturn (\n\t\t\t<Container sx={{ textAlign: 'center', mt: 5 }}>\n\t\t\t\t<CircularProgress />\n\t\t\t</Container>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Container sx={{ maxWidth: '100vw' }}>\n\t\t\t<Typography variant='h1'>{route.name}</Typography>\n\t\t\t<InfoPiece label='Begin'>{stripUSA(route.beginAddress ?? '')}</InfoPiece>\n\t\t\t<InfoPiece label='End'>{stripUSA(route.endAddress ?? '')}</InfoPiece>\n\t\t\t{leg && (\n\t\t\t\t<>\n\t\t\t\t\t<InfoPiece label='Duration'>{leg.duration?.text}</InfoPiece>\n\t\t\t\t\t<InfoPiece label='Distance'>{leg.distance?.text}</InfoPiece>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<Typography variant='h2' sx={{ mb: 3 }}>\n\t\t\t\tWeather\n\t\t\t</Typography>\n\t\t\t<RouteWeather leg={leg} />\n\n\t\t\t<AdSense />\n\n\t\t\t<Typography variant='h2' sx={{ mb: 3 }}>\n\t\t\t\tMap\n\t\t\t</Typography>\n\t\t\t<Map\n\t\t\t\tdirectionsQuery={{\n\t\t\t\t\tstart: `${route.beginLocation.lat}, ${route.beginLocation.lon}`,\n\t\t\t\t\tend: `${route.endLocation.lat}, ${route.endLocation.lon}`,\n\t\t\t\t}}\n\t\t\t\tlegCallback={setLeg}\n\t\t\t\tsx={{ mt: 3, pb: 3, height: '400px' }}\n\t\t\t/>\n\t\t</Container>\n\t)\n}\n","import {\n\tcollection,\n\tdeleteDoc,\n\tdoc,\n\tgetDoc,\n\tgetDocs,\n\tsetDoc,\n} from 'firebase/firestore'\nimport { SavedRoute } from 'ts/utils/models'\n\nimport { database } from './firebase'\nimport { getUser } from './user'\n\ntype newSavedRouteParams = Omit<SavedRoute, 'id'>\n\nexport const newSavedRoute = (route: newSavedRouteParams): Promise<void> => {\n\tconst user = getUser()\n\tif (!user) return Promise.reject()\n\n\tconst userCollection = collection(database, user.id)\n\n\treturn setDoc(doc(userCollection), route)\n\t\t.then(() => Promise.resolve())\n\t\t.catch(() => Promise.reject())\n}\n\nexport const getSavedRoutes = (): Promise<SavedRoute[]> => {\n\tconst user = getUser()\n\tif (!user) return Promise.reject()\n\n\treturn getDocs(collection(database, user.id))\n\t\t.then(r => {\n\t\t\tconst routes: SavedRoute[] = []\n\t\t\tr.forEach(doc => routes.push({ ...doc.data(), id: doc.id } as SavedRoute))\n\t\t\treturn Promise.resolve(routes)\n\t\t})\n\t\t.catch(() => Promise.reject())\n}\n\nexport const getSavedRoute = (id: string): Promise<SavedRoute> => {\n\tconst user = getUser()\n\tif (!user) return Promise.reject()\n\n\treturn getDoc(doc(database, user.id, id))\n\t\t.then(r => Promise.resolve(r.data() as SavedRoute))\n\t\t.catch(() => Promise.reject())\n}\n\nexport const deleteSavedRoute = (id: string): Promise<void> => {\n\tconst user = getUser()\n\tif (!user) return Promise.reject()\n\n\treturn deleteDoc(doc(collection(database, user.id), id))\n\t\t.then(() => Promise.resolve())\n\t\t.catch(() => Promise.reject())\n}\n","import { EMAIL_REGEX } from 'ts/utils/constants'\nimport { newFormState } from 'ts/utils/helpers'\nimport { FormState, User } from 'ts/utils/models'\n\nconst fieldsArray = ['name', 'email'] as const\ntype Fields = typeof fieldsArray[number]\n\nexport const emailValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.email = !!state.values.email.match(EMAIL_REGEX)\n\tstate.messages.email = state.isValid.email ? '' : 'Invalid email address'\n\treturn { ...state }\n}\n\nexport const nameValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.name = state.values.name.length > 0\n\tstate.messages.name = state.isValid.name ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const getInitialFormState = (user: User): FormState<Fields> => {\n\treturn {\n\t\t...newFormState(fieldsArray),\n\t\tvalues: {\n\t\t\tname: user.name ?? '',\n\t\t\temail: user.email ?? '',\n\t\t},\n\t\tvalidators: {\n\t\t\temail: emailValidator,\n\t\t\tname: nameValidator,\n\t\t},\n\t}\n}\n","import ProfileForm from './ProfileForm'\n\nexport default ProfileForm\n","import React, { useContext, useEffect } from 'react'\n\nimport { UserContext } from 'App'\nimport { getMessage } from 'ts/services/errors'\nimport { updateEmail, updateName } from 'ts/services/user'\nimport { beforeSubmit, handleValueChange, validateForm } from 'ts/utils/helpers'\n\nimport { Alert, Button, CircularProgress, TextField } from '@mui/material'\nimport { Box } from '@mui/system'\n\nimport { getInitialFormState } from './validation'\n\nexport default function ProfileForm(): React.ReactElement {\n\tconst { user, updateUser } = useContext(UserContext)\n\tconst [submitting, setSubmitting] = React.useState(false)\n\tconst [formState, setFormState] = React.useState(getInitialFormState(user))\n\tconst [hasChanged, setHasChanged] = React.useState(false)\n\n\tuseEffect(\n\t\t() =>\n\t\t\tsetHasChanged(\n\t\t\t\tuser.name !== formState.values.name ||\n\t\t\t\t\tuser.email !== formState.values.email\n\t\t\t),\n\t\t[formState]\n\t)\n\n\tfunction handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n\t\tevent.preventDefault()\n\n\t\tsetFormState(state => beforeSubmit(state))\n\t\tif (!formState.formValid) return\n\n\t\tsetSubmitting(true)\n\n\t\tPromise.all([\n\t\t\tuser.name !== formState.values.name\n\t\t\t\t? updateName(formState.values.name)\n\t\t\t\t: Promise.resolve(),\n\t\t\tuser.email !== formState.values.email\n\t\t\t\t? updateEmail(formState.values.email)\n\t\t\t\t: Promise.resolve(),\n\t\t])\n\t\t\t.then(() => updateUser())\n\t\t\t.catch(e =>\n\t\t\t\tsetFormState(state => {\n\t\t\t\t\treturn { ...state, formMessage: getMessage(e) }\n\t\t\t\t})\n\t\t\t)\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\treturn (\n\t\t<Box component='form' onSubmit={handleSubmit} noValidate>\n\t\t\t<TextField\n\t\t\t\tvariant='standard'\n\t\t\t\tfullWidth\n\t\t\t\tlabel='Name'\n\t\t\t\tname='name'\n\t\t\t\tdefaultValue={user.name}\n\t\t\t\tmargin='normal'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.name = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.name && !formState.isValid.name}\n\t\t\t\thelperText={formState.touched.name && formState.messages.name}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tvariant='standard'\n\t\t\t\tfullWidth\n\t\t\t\tlabel='Email'\n\t\t\t\ttype='email'\n\t\t\t\tname='email'\n\t\t\t\tdefaultValue={user.email}\n\t\t\t\tmargin='normal'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.email = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.email && !formState.isValid.email}\n\t\t\t\thelperText={formState.touched.email && formState.messages.email}\n\t\t\t/>\n\t\t\t{formState.attemptedSubmit && formState.formMessage && (\n\t\t\t\t<Alert sx={{ mt: 2 }} severity='error'>\n\t\t\t\t\t{formState.formMessage || 'Form error'}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t\t<Button\n\t\t\t\ttype='submit'\n\t\t\t\tdisabled={submitting}\n\t\t\t\tfullWidth\n\t\t\t\tvariant='contained'\n\t\t\t\tsx={{ mt: 2, display: hasChanged ? 'default' : 'none' }}\n\t\t\t>\n\t\t\t\t{submitting ? (\n\t\t\t\t\t<CircularProgress size={24} color='inherit' />\n\t\t\t\t) : (\n\t\t\t\t\t'Save Changes'\n\t\t\t\t)}\n\t\t\t</Button>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\n\nimport ProfileForm from 'ts/forms/Profile'\n\nimport { Container, Typography } from '@mui/material'\n\nexport default function Profile(): React.ReactElement {\n\treturn (\n\t\t<Container>\n\t\t\t<Typography variant='h1'>Edit Profile</Typography>\n\t\t\t<ProfileForm />\n\t\t</Container>\n\t)\n}\n","import React from 'react'\n\nimport {\n\tLink as RouterLink,\n\tLinkProps as RouterLinkProps,\n} from 'react-router-dom'\n\nimport { createTheme } from '@mui/material/styles'\n\n// Allow adapting MUI links to react-router-dom links\nconst LinkBehavior = React.forwardRef<\n\tany,\n\tOmit<RouterLinkProps, 'to'> & { href: RouterLinkProps['to'] }\n>((props, ref) => {\n\tconst { href, ...other } = props\n\t// Map href (MUI) -> to (react-router)\n\treturn <RouterLink ref={ref} to={href} {...other} />\n})\n\nLinkBehavior.displayName = 'LinkBehavior'\n\nconst theme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#2a8544',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057',\n\t\t},\n\t},\n\tcomponents: {\n\t\tMuiLink: {\n\t\t\tdefaultProps: {\n\t\t\t\t// @ts-ignore\n\t\t\t\tcomponent: LinkBehavior,\n\t\t\t},\n\t\t},\n\t\tMuiButtonBase: {\n\t\t\tdefaultProps: {\n\t\t\t\tLinkComponent: LinkBehavior,\n\t\t\t},\n\t\t},\n\t},\n\ttypography: {\n\t\th1: {\n\t\t\tcolor: '#2a8544',\n\t\t\tfontSize: '2.5rem',\n\t\t\tfontWeight: '500',\n\t\t\tmarginTop: '1.5rem',\n\t\t},\n\t\th2: {\n\t\t\tcolor: '#2a8544',\n\t\t\tfontSize: '1.5rem',\n\t\t\tfontWeight: '500',\n\t\t\tmarginTop: '1.5rem',\n\t\t},\n\t},\n})\n\nexport default theme\n","import { newFormState } from 'ts/utils/helpers'\nimport { FormState } from 'ts/utils/models'\n\nconst fieldsArray = ['name', 'start', 'end'] as const\ntype Fields = typeof fieldsArray[number]\n\nexport const nameValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.name = state.values.name.length > 0\n\tstate.messages.name = state.isValid.name ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const startValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.start = state.values.start.length > 0\n\tstate.messages.start = state.isValid.start ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const endValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.end = state.values.end.length > 0\n\tstate.messages.end = state.isValid.end ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const getInitialFormState = (): FormState<Fields> => {\n\treturn {\n\t\t...newFormState(fieldsArray),\n\t\tvalidators: {\n\t\t\tname: nameValidator,\n\t\t\tstart: startValidator,\n\t\t\tend: endValidator,\n\t\t},\n\t}\n}\n","import React from 'react'\n\nimport Map from 'ts/components/Map'\nimport { getMessage } from 'ts/services/errors'\nimport { newSavedRoute } from 'ts/services/savedRoutes'\nimport { beforeSubmit, handleValueChange, validateForm } from 'ts/utils/helpers'\nimport { BeginEnd, DirectionsQuery } from 'ts/utils/models'\n\nimport { Alert, Stack, TextField } from '@mui/material'\nimport { Box } from '@mui/system'\n\nimport { getInitialFormState } from './validation'\n\nexport const NewSavedRouteFormId = 'new-saved-route-form'\n\ninterface NewSavedRouteFormProps {\n\tsetSubmitting: (submitting: boolean) => void\n\tsubmitCallback: () => void\n}\n\nexport default function NewSavedRouteForm(\n\tprops: NewSavedRouteFormProps\n): React.ReactElement {\n\tconst { setSubmitting, submitCallback } = props\n\tconst [formState, setFormState] = React.useState(getInitialFormState())\n\tconst [directionsQuery, setDirectionsQuery] =\n\t\tReact.useState<DirectionsQuery>()\n\tconst [beginEndResult, setBeginEndResult] = React.useState<BeginEnd | null>()\n\n\tfunction updateWaypoints(): void {\n\t\tsetDirectionsQuery({\n\t\t\tstart: formState.values.start,\n\t\t\tend: formState.values.end,\n\t\t})\n\t}\n\n\tfunction handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n\t\tevent.preventDefault()\n\n\t\tsetFormState(state => beforeSubmit(state))\n\t\tif (!formState.formValid) return\n\t\tif (!beginEndResult) {\n\t\t\tsetFormState(state => {\n\t\t\t\treturn { ...state, formMessage: 'No route found' }\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tsetSubmitting(true)\n\n\t\tnewSavedRoute({\n\t\t\tname: formState.values.name,\n\t\t\t...beginEndResult,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tsubmitCallback()\n\t\t\t})\n\t\t\t.catch(e =>\n\t\t\t\tsetFormState(state => {\n\t\t\t\t\treturn { ...state, formMessage: getMessage(e) }\n\t\t\t\t})\n\t\t\t)\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\treturn (\n\t\t<Stack gap={2}>\n\t\t\t<Box\n\t\t\t\tid={NewSavedRouteFormId}\n\t\t\t\tcomponent='form'\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\tnoValidate\n\t\t\t\tsx={{ height: '100%' }}\n\t\t\t>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant='standard'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel='Route Name'\n\t\t\t\t\tname='name'\n\t\t\t\t\tmargin='normal'\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t\t}\n\t\t\t\t\tonBlur={(): void => {\n\t\t\t\t\t\tformState.touched.name = true\n\t\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t\t}}\n\t\t\t\t\terror={formState.touched.name && !formState.isValid.name}\n\t\t\t\t\thelperText={formState.touched.name && formState.messages.name}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant='standard'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel='Start Location'\n\t\t\t\t\tname='start'\n\t\t\t\t\tmargin='normal'\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t\t}\n\t\t\t\t\tonBlur={(): void => {\n\t\t\t\t\t\tformState.touched.start = true\n\t\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t\t\tupdateWaypoints()\n\t\t\t\t\t}}\n\t\t\t\t\terror={formState.touched.start && !formState.isValid.start}\n\t\t\t\t\thelperText={formState.touched.start && formState.messages.start}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant='standard'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel='End Location'\n\t\t\t\t\tname='end'\n\t\t\t\t\tmargin='normal'\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t\t}\n\t\t\t\t\tonBlur={(): void => {\n\t\t\t\t\t\tformState.touched.end = true\n\t\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t\t\tupdateWaypoints()\n\t\t\t\t\t}}\n\t\t\t\t\terror={formState.touched.end && !formState.isValid.end}\n\t\t\t\t\thelperText={formState.touched.end && formState.messages.end}\n\t\t\t\t/>\n\t\t\t\t{formState.attemptedSubmit && formState.formMessage && (\n\t\t\t\t\t<Alert sx={{ mt: 2 }} severity='error'>\n\t\t\t\t\t\t{formState.formMessage || 'Form error'}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\t\t\t</Box>\n\n\t\t\t{directionsQuery?.start && directionsQuery.end && (\n\t\t\t\t<Map\n\t\t\t\t\tdirectionsQuery={directionsQuery}\n\t\t\t\t\tbeginEndCallback={(beginEnd): void => setBeginEndResult(beginEnd)}\n\t\t\t\t\tsx={{ height: '20rem' }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Stack>\n\t)\n}\n","import NewSavedRouteForm from './NewSavedRouteForm'\n\nexport default NewSavedRouteForm\n","import React from 'react'\n\nimport theme from 'theme'\nimport NewSavedRouteForm from 'ts/forms/NewSavedRoute'\nimport { NewSavedRouteFormId } from 'ts/forms/NewSavedRoute/NewSavedRouteForm'\n\nimport {\n\tButton,\n\tCircularProgress,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tuseMediaQuery,\n} from '@mui/material'\n\nexport interface NewRouteDialogProps {\n\topen: boolean\n\tonClose: () => void\n}\n\nexport default function NewRouteDialog(\n\tprops: NewRouteDialogProps\n): React.ReactElement {\n\tconst { open, onClose } = props\n\tconst fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\tconst [submitting, setSubmitting] = React.useState(false)\n\n\treturn (\n\t\t<Dialog\n\t\t\tfullScreen={fullScreen}\n\t\t\topen={open}\n\t\t\tfullWidth\n\t\t\tmaxWidth='sm'\n\t\t\tscroll='paper'\n\t\t>\n\t\t\t<DialogTitle>New Saved Route</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<NewSavedRouteForm\n\t\t\t\t\tsetSubmitting={setSubmitting}\n\t\t\t\t\tsubmitCallback={onClose}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions sx={{ pb: fullScreen ? 5 : 'default' }}>\n\t\t\t\t<Button onClick={onClose}>Cancel</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tdisabled={submitting}\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tform={NewSavedRouteFormId}\n\t\t\t\t>\n\t\t\t\t\t{submitting ? (\n\t\t\t\t\t\t<CircularProgress size={24} color='inherit' />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Create Route'\n\t\t\t\t\t)}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, { useState } from 'react'\n\nimport { Link } from 'react-router-dom'\nimport { deleteSavedRoute } from 'ts/services/savedRoutes'\nimport {\n\tround,\n\tstripUSA,\n} from 'ts/utils/helpers'\nimport { SavedRoute } from 'ts/utils/models'\nimport Paths from 'ts/utils/paths'\n\nimport {\n\tIcon,\n\tIconButton,\n\tListItem,\n\tListItemButton,\n\tListItemIcon,\n\tListItemText,\n\tMenu,\n\tMenuItem,\n} from '@mui/material'\n\nexport interface SavedRouteListItemProps {\n\troute: SavedRoute\n\tchangeCallback: () => void\n}\n\nexport default function SavedRouteListItem(\n\tprops: SavedRouteListItemProps\n): React.ReactElement {\n\tconst { route, changeCallback } = props\n\n\tconst [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)\n\tconst open = Boolean(anchorEl)\n\tconst handleClick = (event: React.MouseEvent<HTMLButtonElement>): void => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\tconst handleClose = (): void => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tfunction handleDelete(): void {\n\t\tdeleteSavedRoute(route.id)\n\t\t\t.then(() => changeCallback())\n\t\t\t.catch(() => alert('Error deleting saved route'))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ListItem\n\t\t\t\tdisablePadding\n\t\t\t\tsecondaryAction={\n\t\t\t\t\t<IconButton onClick={handleClick}>\n\t\t\t\t\t\t<Icon>more_vert</Icon>\n\t\t\t\t\t</IconButton>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<ListItemButton\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto={Paths.getDisplayRouteLink(route.id)}\n\t\t\t\t>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<Icon>directions</Icon>\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={route.name}\n\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span style={{ display: 'block' }}>\n\t\t\t\t\t\t\t\t\t{route.beginAddress\n\t\t\t\t\t\t\t\t\t\t? stripUSA(route.beginAddress)\n\t\t\t\t\t\t\t\t\t\t: `${round(route.beginLocation.lat)}º, ${round(\n\t\t\t\t\t\t\t\t\t\t\t\troute.beginLocation.lon\n\t\t\t\t\t\t\t\t\t\t)}º`}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span style={{ display: 'block' }}>\n\t\t\t\t\t\t\t\t\t{route.endAddress\n\t\t\t\t\t\t\t\t\t\t? stripUSA(route.endAddress)\n\t\t\t\t\t\t\t\t\t\t: `${round(route.endLocation.lat)}º, ${round(\n\t\t\t\t\t\t\t\t\t\t\t\troute.endLocation.lon\n\t\t\t\t\t\t\t\t\t\t)}º`}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</ListItemButton>\n\t\t\t\t<Menu\n\t\t\t\t\tid='basic-menu'\n\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\tMenuListProps={{\n\t\t\t\t\t\t'aria-labelledby': 'basic-button',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={handleDelete}>Delete route</MenuItem>\n\t\t\t\t</Menu>\n\t\t\t</ListItem>\n\t\t</>\n\t)\n}\n","import SavedRoutes from './SavedRoutes'\n\nexport default SavedRoutes\n","import React, { useEffect } from 'react'\n\nimport { getSavedRoutes } from 'ts/services/savedRoutes'\nimport { SavedRoute } from 'ts/utils/models'\n\nimport {\n\tAlert,\n\tCircularProgress,\n\tContainer,\n\tFab,\n\tIcon,\n\tList,\n\tTypography,\n} from '@mui/material'\n\nimport NewRouteDialog from './NewRouteDialog'\nimport SavedRouteListItem from './SavedRouteListItem'\n\nexport default function SavedRoutes(): React.ReactElement {\n\tconst [savedRoutes, setSavedRoutes] = React.useState<SavedRoute[]>()\n\tconst [errorText, setErrorText] = React.useState<string>()\n\tconst [showDialog, setShowDialog] = React.useState(false)\n\tuseEffect(() => updateSavedRoutes(), [])\n\n\tconst updateSavedRoutes = (): void => {\n\t\tgetSavedRoutes()\n\t\t\t.then(r => setSavedRoutes(r))\n\t\t\t.catch(() => setErrorText('Error loading saved routes'))\n\t}\n\n\tconst renderRouteList = (): React.ReactElement => {\n\t\tif (!savedRoutes)\n\t\t\treturn <CircularProgress sx={{ display: 'block', mx: 'auto', mt: 3 }} />\n\n\t\tif (savedRoutes.length === 0)\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\tNo saved routes. Click the{' '}\n\t\t\t\t\t<Icon sx={{ fontSize: '1rem', fontWeight: 'bold' }}>add</Icon> icon to\n\t\t\t\t\tadd a new one.\n\t\t\t\t</p>\n\t\t\t)\n\n\t\treturn (\n\t\t\t<List>\n\t\t\t\t{savedRoutes\n\t\t\t\t\t.sort((a, b) => (a.name < b.name ? -1 : 1))\n\t\t\t\t\t.map(route => (\n\t\t\t\t\t\t<div key={route.id}>\n\t\t\t\t\t\t\t<SavedRouteListItem\n\t\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t\t\tchangeCallback={updateSavedRoutes}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Typography variant='h1' sx={{ mb: 2 }}>\n\t\t\t\tSaved Routes\n\t\t\t</Typography>\n\t\t\t<Fab\n\t\t\t\tcolor='primary'\n\t\t\t\tonClick={(): void => setShowDialog(true)}\n\t\t\t\tsx={{\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tbottom: '2rem',\n\t\t\t\t\tright: '1.5rem',\n\t\t\t\t\tzIndex: 1000,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Icon>add</Icon>\n\t\t\t</Fab>\n\t\t\t{errorText ? (\n\t\t\t\t<Alert severity='error'>{errorText}</Alert>\n\t\t\t) : (\n\t\t\t\trenderRouteList()\n\t\t\t)}\n\t\t\t<NewRouteDialog\n\t\t\t\topen={showDialog}\n\t\t\t\tonClose={(): void => {\n\t\t\t\t\tsetShowDialog(false), updateSavedRoutes()\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Container>\n\t)\n}\n","import { newFormState } from 'ts/utils/helpers'\nimport { FormState } from 'ts/utils/models'\n\nconst fieldsArray = ['password1', 'password2'] as const\ntype Fields = typeof fieldsArray[number]\n\nexport const password1Validator = (\n\tstate: FormState<Fields>\n): FormState<Fields> => {\n\tstate.isValid.password1 = state.values.password1.length > 0\n\tstate.messages.password1 = state.isValid.password1 ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const password2Validator = (\n\tstate: FormState<Fields>\n): FormState<Fields> => {\n\tstate.isValid.password2 = state.values.password1 === state.values.password2\n\tstate.messages.password2 = state.isValid.password2\n\t\t? ''\n\t\t: 'Passwords do not match'\n\treturn { ...state }\n}\n\nexport const getInitialFormState = (): FormState<Fields> => {\n\treturn {\n\t\t...newFormState(fieldsArray),\n\t\tvalidators: {\n\t\t\tpassword1: password1Validator,\n\t\t\tpassword2: password2Validator,\n\t\t},\n\t}\n}\n","import ChangePasswordForm from './ChangePasswordForm'\n\nexport default ChangePasswordForm\n","import React, { Context, useState } from 'react'\n\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport Navigation from 'ts/components/Navigation'\nimport DisplayRoute from 'ts/containers/DisplayRoute'\nimport Profile from 'ts/containers/Profile'\nimport SavedRoutes from 'ts/containers/SavedRoutes'\nimport Security from 'ts/containers/Security'\nimport Weather from 'ts/containers/Weather'\nimport { getUser } from 'ts/services/user'\nimport { drawerWidth } from 'ts/utils/constants'\nimport { User } from 'ts/utils/models'\nimport Paths from 'ts/utils/paths'\n\nimport { Box, Stack, Toolbar } from '@mui/material'\n\nexport let UserContext: Context<{ user: User; updateUser: () => void }>\n\nfunction App(props: { user: User }): React.ReactElement {\n\tconst [user, setUser] = useState(props.user)\n\n\tconst updateUser = (): void => {\n\t\tconst newUser = getUser()\n\t\tnewUser && setUser(newUser)\n\t}\n\n\tUserContext = React.createContext({ user, updateUser })\n\n\treturn (\n\t\t<UserContext.Provider value={{ user, updateUser }}>\n\t\t\t<Box sx={{ display: 'flex', height: '100vh' }}>\n\t\t\t\t<HashRouter basename='/'>\n\t\t\t\t\t<Navigation />\n\t\t\t\t\t<Box\n\t\t\t\t\t\tcomponent='main'\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\twidth: { sm: `calc(100% - ${drawerWidth}px)` },\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Stack height='100%'>\n\t\t\t\t\t\t\t<Toolbar />\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path={Paths.home} component={SavedRoutes} />\n\t\t\t\t\t\t\t\t<Route exact path={Paths.savedRoutes} component={SavedRoutes} />\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath={Paths.displayRoute}\n\t\t\t\t\t\t\t\t\tcomponent={DisplayRoute}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route exact path={Paths.weather} component={Weather} />\n\t\t\t\t\t\t\t\t<Route exact path={Paths.profile} component={Profile} />\n\t\t\t\t\t\t\t\t<Route exact path={Paths.security} component={Security} />\n\n\t\t\t\t\t\t\t\t{/* Default redirect */}\n\t\t\t\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t\t\t\t<Redirect to={Paths.home} />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Box>\n\t\t\t\t</HashRouter>\n\t\t\t</Box>\n\t\t</UserContext.Provider>\n\t)\n}\n\nexport default App\n","import React, { useContext } from 'react'\n\nimport { UserContext } from 'App'\nimport { getMessage } from 'ts/services/errors'\nimport { updatePassword } from 'ts/services/user'\nimport { beforeSubmit, handleValueChange, validateForm } from 'ts/utils/helpers'\n\nimport { Alert, Button, CircularProgress, TextField } from '@mui/material'\nimport { Box } from '@mui/system'\n\nimport { getInitialFormState } from './validation'\n\nexport default function ChangePasswordForm(): React.ReactElement {\n\tconst { updateUser } = useContext(UserContext)\n\tconst [submitting, setSubmitting] = React.useState(false)\n\tconst [formState, setFormState] = React.useState(getInitialFormState())\n\n\tfunction handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n\t\tevent.preventDefault()\n\n\t\tsetFormState(state => beforeSubmit(state))\n\t\tif (!formState.formValid) return\n\n\t\tsetSubmitting(true)\n\n\t\tupdatePassword(formState.values.password1)\n\t\t\t.then(() => updateUser())\n\t\t\t.catch(e =>\n\t\t\t\tsetFormState(state => {\n\t\t\t\t\treturn { ...state, formMessage: getMessage(e) }\n\t\t\t\t})\n\t\t\t)\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\treturn (\n\t\t<Box component='form' onSubmit={handleSubmit} noValidate>\n\t\t\t<TextField\n\t\t\t\tvariant='standard'\n\t\t\t\tfullWidth\n\t\t\t\tlabel='New Password'\n\t\t\t\ttype='password'\n\t\t\t\tname='password1'\n\t\t\t\tmargin='normal'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.password1 = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.password1 && !formState.isValid.password1}\n\t\t\t\thelperText={formState.touched.password1 && formState.messages.password1}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tvariant='standard'\n\t\t\t\tfullWidth\n\t\t\t\tlabel='Confirm New Password'\n\t\t\t\ttype='password'\n\t\t\t\tname='password2'\n\t\t\t\tmargin='normal'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.password2 = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.password2 && !formState.isValid.password2}\n\t\t\t\thelperText={formState.touched.password2 && formState.messages.password2}\n\t\t\t/>\n\t\t\t{formState.attemptedSubmit && formState.formMessage && (\n\t\t\t\t<Alert sx={{ mt: 2 }} severity='error'>\n\t\t\t\t\t{formState.formMessage || 'Form error'}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t\t<Button\n\t\t\t\ttype='submit'\n\t\t\t\tdisabled={submitting}\n\t\t\t\tfullWidth\n\t\t\t\tvariant='contained'\n\t\t\t\tsx={{ mt: 2 }}\n\t\t\t>\n\t\t\t\t{submitting ? (\n\t\t\t\t\t<CircularProgress size={24} color='inherit' />\n\t\t\t\t) : (\n\t\t\t\t\t'Change Password'\n\t\t\t\t)}\n\t\t\t</Button>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\n\nimport ChangePasswordForm from 'ts/forms/ChangePassword'\n\nimport { Container, Typography } from '@mui/material'\n\nexport default function Security(): React.ReactElement {\n\treturn (\n\t\t<Container>\n\t\t\t<Typography variant='h1'>Change Password</Typography>\n\t\t\t<ChangePasswordForm />\n\t\t</Container>\n\t)\n}\n","import React, { useEffect } from 'react'\n\nimport InfoPiece from 'ts/components/InfoPiece'\nimport { getWeather } from 'ts/services/weather'\nimport { CurrentWeather } from 'ts/utils/models'\n\nimport { Alert, Container, LinearProgress, Typography } from '@mui/material'\n\nexport default function Weather(): React.ReactElement {\n\tconst [currentPosition, setCurrentPosition] = React.useState<\n\t\tGeolocationPosition | null | undefined\n\t>(undefined)\n\tconst [currentWeather, setCurrentWeather] = React.useState<CurrentWeather>()\n\tconst [errorText, setErrorText] = React.useState<string>()\n\n\tconst handleGetWeather = (): void => {\n\t\tcurrentPosition &&\n\t\t\tgetWeather(\n\t\t\t\tcurrentPosition.coords.latitude,\n\t\t\t\tcurrentPosition.coords.longitude\n\t\t\t)\n\t\t\t\t.then(r => setCurrentWeather(r.current))\n\t\t\t\t.catch(e => setErrorText(e.response.data.message))\n\t}\n\n\tuseEffect(() => {\n\t\tif (navigator.geolocation)\n\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\tlocation => setCurrentPosition(location),\n\t\t\t\terror => {\n\t\t\t\t\tswitch (error.code) {\n\t\t\t\t\t\tcase error.PERMISSION_DENIED:\n\t\t\t\t\t\t\tsetCurrentPosition(null)\n\t\t\t\t\t\t\tsetErrorText('Location request denied')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase error.POSITION_UNAVAILABLE:\n\t\t\t\t\t\t\tsetCurrentPosition(null)\n\t\t\t\t\t\t\tsetErrorText('Location information is unavailable')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase error.TIMEOUT:\n\t\t\t\t\t\t\tsetCurrentPosition(null)\n\t\t\t\t\t\t\tsetErrorText('Location request timed out')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsetCurrentPosition(null)\n\t\t\t\t\t\t\tsetErrorText(\n\t\t\t\t\t\t\t\t'An unknown error occurred while getting the location'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\telse alert('Geolocation is not supported by this browser.')\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (currentPosition) handleGetWeather()\n\t}, [currentPosition])\n\n\treturn (\n\t\t<Container>\n\t\t\t<Typography variant='h1'>Weather</Typography>\n\n\t\t\t<p>Weather for current location</p>\n\n\t\t\t{!errorText && (!currentWeather || !currentPosition) && (\n\t\t\t\t<>\n\t\t\t\t\t<Typography variant='overline'>\n\t\t\t\t\t\t{!currentPosition\n\t\t\t\t\t\t\t? 'Getting current location...'\n\t\t\t\t\t\t\t: 'Getting weather...'}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<LinearProgress />\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{errorText && <Alert severity='error'>{errorText}</Alert>}\n\n\t\t\t{currentWeather && (\n\t\t\t\t<div>\n\t\t\t\t\t<InfoPiece label='Temperature'>{currentWeather?.temp}ºF</InfoPiece>\n\t\t\t\t\t<InfoPiece label='Humidity'>{currentWeather?.humidity}%</InfoPiece>\n\t\t\t\t\t<InfoPiece label='Cloud Cover'>{currentWeather?.clouds}%</InfoPiece>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Container>\n\t)\n}\n","import { EMAIL_REGEX } from 'ts/utils/constants'\nimport { newFormState } from 'ts/utils/helpers'\nimport { FormState } from 'ts/utils/models'\n\nconst fieldsArray = ['email', 'password'] as const\ntype Fields = typeof fieldsArray[number]\n\nexport const emailValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.email = !!state.values.email.match(EMAIL_REGEX)\n\tstate.messages.email = state.isValid.email ? '' : 'Invalid email address'\n\treturn { ...state }\n}\n\nexport const passwordValidator = (\n\tstate: FormState<Fields>\n): FormState<Fields> => {\n\tstate.isValid.password = state.values.password.length > 0\n\tstate.messages.password = state.isValid.password ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const getInitialFormState = (): FormState<Fields> => {\n\treturn {\n\t\t...newFormState(fieldsArray),\n\t\tvalidators: {\n\t\t\temail: emailValidator,\n\t\t\tpassword: passwordValidator,\n\t\t},\n\t}\n}\n","import SignInForm from './SignInForm'\n\nexport default SignInForm\n","import React from 'react'\n\nimport { signIn } from 'ts/services/auth'\nimport { getMessage } from 'ts/services/errors'\nimport { beforeSubmit, handleValueChange, validateForm } from 'ts/utils/helpers'\nimport Paths from 'ts/utils/paths'\n\nimport {\n\tAlert,\n\tBox,\n\tButton,\n\tCircularProgress,\n\tLink,\n\tTextField,\n} from '@mui/material'\n\nimport { getInitialFormState } from './validation'\n\nexport default function SignInForm(): React.ReactElement {\n\tconst [submitting, setSubmitting] = React.useState(false)\n\n\tconst [formState, setFormState] = React.useState(getInitialFormState())\n\n\tfunction handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n\t\tevent.preventDefault()\n\n\t\tsetFormState(state => beforeSubmit(state))\n\n\t\tif (!formState.formValid) return\n\n\t\tsetSubmitting(true)\n\n\t\tsignIn(formState.values.email, formState.values.password)\n\t\t\t.catch(e =>\n\t\t\t\tsetFormState(state => {\n\t\t\t\t\treturn { ...state, formMessage: getMessage(e) }\n\t\t\t\t})\n\t\t\t)\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\treturn (\n\t\t<Box component='form' onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\ttype='email'\n\t\t\t\tid='email'\n\t\t\t\tlabel='Email'\n\t\t\t\tname='email'\n\t\t\t\tautoComplete='email'\n\t\t\t\tautoFocus\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.email = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.email && !formState.isValid.email}\n\t\t\t\thelperText={formState.touched.email && formState.messages.email}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tname='password'\n\t\t\t\tlabel='Password'\n\t\t\t\ttype='password'\n\t\t\t\tid='password'\n\t\t\t\tautoComplete='current-password'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.password = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.password && !formState.isValid.password}\n\t\t\t\thelperText={formState.touched.password && formState.messages.password}\n\t\t\t/>\n\t\t\t{formState.attemptedSubmit && formState.formMessage && (\n\t\t\t\t<Alert sx={{ mt: 2 }} severity='error'>\n\t\t\t\t\t{formState.formMessage || 'Form error'}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t\t<Button\n\t\t\t\ttype='submit'\n\t\t\t\tdisabled={submitting}\n\t\t\t\tfullWidth\n\t\t\t\tvariant='contained'\n\t\t\t\tsx={{ mt: 2, mb: 2 }}\n\t\t\t>\n\t\t\t\t{submitting ? (\n\t\t\t\t\t<CircularProgress size={24} color='inherit' />\n\t\t\t\t) : (\n\t\t\t\t\t'Sign In'\n\t\t\t\t)}\n\t\t\t</Button>\n\t\t\t<Link href={Paths.signUp} variant='body2'>\n\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t</Link>\n\t\t</Box>\n\t)\n}\n","import * as React from 'react'\n\nimport SignInForm from 'ts/forms/SignIn'\n\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\nimport { Avatar, Box, Container, Typography } from '@mui/material'\n\nexport default function SignIn(): React.ReactElement {\n\treturn (\n\t\t<Container>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmt: 8,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\tSign In\n\t\t\t\t</Typography>\n\t\t\t\t<SignInForm />\n\t\t\t</Box>\n\t\t</Container>\n\t)\n}\n","import { EMAIL_REGEX } from 'ts/utils/constants'\nimport { newFormState } from 'ts/utils/helpers'\nimport { FormState } from 'ts/utils/models'\n\nconst fieldsArray = ['name', 'email', 'password1', 'password2'] as const\ntype Fields = typeof fieldsArray[number]\n\nexport const nameValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.name = state.values.name.length > 0\n\tstate.messages.name = state.isValid.name ? '' : 'Required'\n\treturn { ...state }\n}\n\nexport const emailValidator = (state: FormState<Fields>): FormState<Fields> => {\n\tstate.isValid.email = !!state.values.email.match(EMAIL_REGEX)\n\tstate.messages.email = state.isValid.email ? '' : 'Invalid email address'\n\treturn { ...state }\n}\n\nexport const password1Validator = (\n\tstate: FormState<Fields>\n): FormState<Fields> => {\n\tstate.isValid.password1 = state.values.password1.length > 4\n\tstate.messages.password1 = state.isValid.password1\n\t\t? ''\n\t\t: 'Must be at least 5 characters long'\n\treturn { ...state }\n}\n\nexport const password2Validator = (\n\tstate: FormState<Fields>\n): FormState<Fields> => {\n\tstate.isValid.password2 = state.values.password2 === state.values.password1\n\tstate.messages.password2 = state.isValid.password2\n\t\t? ''\n\t\t: 'Passwords do not match'\n\treturn { ...state }\n}\n\nexport const getInitialFormState = (): FormState<Fields> => {\n\treturn {\n\t\t...newFormState(fieldsArray),\n\t\tvalidators: {\n\t\t\tname: nameValidator,\n\t\t\temail: emailValidator,\n\t\t\tpassword1: password1Validator,\n\t\t\tpassword2: password2Validator,\n\t\t},\n\t}\n}\n","import SignUpForm from './SignUpForm'\n\nexport default SignUpForm\n","import * as React from 'react'\n\nimport { getMessage } from 'ts/services/errors'\nimport { signUp } from 'ts/services/user'\nimport { beforeSubmit, handleValueChange, validateForm } from 'ts/utils/helpers'\nimport Paths from 'ts/utils/paths'\n\nimport { Alert, CircularProgress, Link } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport Button from '@mui/material/Button'\nimport TextField from '@mui/material/TextField'\n\nimport { getInitialFormState } from './validation'\n\nexport default function SignUpForm(): React.ReactElement {\n\tconst [submitting, setSubmitting] = React.useState(false)\n\n\tconst [formState, setFormState] = React.useState(getInitialFormState)\n\n\tfunction handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n\t\tevent.preventDefault()\n\n\t\tsetFormState(state => beforeSubmit(state))\n\n\t\tif (!formState.formValid) return\n\n\t\tsetSubmitting(true)\n\n\t\tsignUp(\n\t\t\tformState.values.email,\n\t\t\tformState.values.password1,\n\t\t\tformState.values.name\n\t\t)\n\t\t\t.catch(e =>\n\t\t\t\tsetFormState(state => {\n\t\t\t\t\treturn { ...state, formMessage: getMessage(e) }\n\t\t\t\t})\n\t\t\t)\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\treturn (\n\t\t<Box component='form' onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tid='name'\n\t\t\t\tlabel='Name'\n\t\t\t\tname='name'\n\t\t\t\tautoComplete='name'\n\t\t\t\tautoFocus\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.name = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.name && !formState.isValid.name}\n\t\t\t\thelperText={formState.touched.name && formState.messages.name}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tid='email'\n\t\t\t\tlabel='Email'\n\t\t\t\tname='email'\n\t\t\t\ttype='email'\n\t\t\t\tautoComplete='email'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.email = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.email && !formState.isValid.email}\n\t\t\t\thelperText={formState.touched.email && formState.messages.email}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tname='password1'\n\t\t\t\tlabel='Password'\n\t\t\t\ttype='password'\n\t\t\t\tid='password1'\n\t\t\t\tautoComplete='new-password'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.password1 = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.password1 && !formState.isValid.password1}\n\t\t\t\thelperText={formState.touched.password1 && formState.messages.password1}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tmargin='normal'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tname='password2'\n\t\t\t\tlabel='Confirm Password'\n\t\t\t\ttype='password'\n\t\t\t\tid='password2'\n\t\t\t\tautoComplete='new-password'\n\t\t\t\tonChange={(e): void =>\n\t\t\t\t\tsetFormState(state => handleValueChange(e, state))\n\t\t\t\t}\n\t\t\t\tonBlur={(): void => {\n\t\t\t\t\tformState.touched.password2 = true\n\t\t\t\t\tsetFormState(state => validateForm(state))\n\t\t\t\t}}\n\t\t\t\terror={formState.touched.password2 && !formState.isValid.password2}\n\t\t\t\thelperText={formState.touched.password2 && formState.messages.password2}\n\t\t\t/>\n\t\t\t{formState.attemptedSubmit && formState.formMessage && (\n\t\t\t\t<Alert sx={{ mt: 2 }} severity='error'>\n\t\t\t\t\t{formState.formMessage || 'Form error'}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t\t<Button\n\t\t\t\ttype='submit'\n\t\t\t\tdisabled={submitting}\n\t\t\t\tfullWidth\n\t\t\t\tvariant='contained'\n\t\t\t\tsx={{ mt: 2, mb: 2 }}\n\t\t\t>\n\t\t\t\t{submitting ? (\n\t\t\t\t\t<CircularProgress size={24} color='inherit' />\n\t\t\t\t) : (\n\t\t\t\t\t'Sign Up'\n\t\t\t\t)}\n\t\t\t</Button>\n\t\t\t<Link href={Paths.signIn} variant='body2'>\n\t\t\t\t{'Already have an account? Sign In'}\n\t\t\t</Link>\n\t\t</Box>\n\t)\n}\n","import * as React from 'react'\n\nimport SignUpForm from 'ts/forms/SignUp'\n\nimport PersonIcon from '@mui/icons-material/Person'\nimport { Container } from '@mui/material'\nimport Avatar from '@mui/material/Avatar'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\n\nexport default function SignUp(): React.ReactElement {\n\treturn (\n\t\t<Container>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmt: 8,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n\t\t\t\t\t<PersonIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\tSign Up\n\t\t\t\t</Typography>\n\t\t\t\t<SignUpForm />\n\t\t\t</Box>\n\t\t</Container>\n\t)\n}\n","import React from 'react'\n\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport SignIn from 'ts/components/SignIn'\nimport SignUp from 'ts/components/SignUp'\nimport Paths from 'ts/utils/paths'\n\nfunction AppUnauthorized(): React.ReactElement {\n\treturn (\n\t\t<div className='app-unauthorized'>\n\t\t\t<HashRouter basename='/'>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path={Paths.signIn} component={SignIn} />\n\t\t\t\t\t<Route exact path={Paths.signUp} component={SignUp} />\n\n\t\t\t\t\t{/* Default redirect */}\n\t\t\t\t\t<Redirect push to={Paths.signIn} />\n\t\t\t\t</Switch>\n\t\t\t</HashRouter>\n\t\t</div>\n\t)\n}\n\nexport default AppUnauthorized\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry)\n\t\t\tgetFID(onPerfEntry)\n\t\t\tgetFCP(onPerfEntry)\n\t\t\tgetLCP(onPerfEntry)\n\t\t\tgetTTFB(onPerfEntry)\n\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config): void {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://cra.link/PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config): void {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = (): void => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = (): void => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config): void {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister(): void {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister()\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message)\n\t\t\t})\n\t}\n}\n","import 'sass/index.scss'\nimport 'sass/App.scss'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from 'App'\nimport AppUnauthorized from 'AppUnauthorized'\nimport theme from 'theme'\nimport { auth } from 'ts/services/auth'\nimport { formatUser } from 'ts/services/user'\n\nimport CssBaseline from '@mui/material/CssBaseline'\nimport { ThemeProvider } from '@mui/material/styles'\n\nimport reportWebVitals from './reportWebVitals'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\n\nauth.onAuthStateChanged(fireUser => {\n\tconst user = formatUser(fireUser)\n\n\tif (user) {\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<App user={user} />\n\t\t\t\t</ThemeProvider>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} else {\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<AppUnauthorized />\n\t\t\t\t</ThemeProvider>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t}\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister()\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}