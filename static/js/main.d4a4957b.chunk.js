(this["webpackJsonpweather-route"]=this["webpackJsonpweather-route"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);n(166),n(167);var a=n(1),r=n.n(a),i=n(55),s=n.n(i),o=n(12),c=n(47),l=n(29),u=n(53),d=n(138),j=n(46),m=Object(d.a)({apiKey:"AIzaSyCyk-8pQIXG4EJOyRa3QT0yzUfr661yuyI",authDomain:"weather-route-e1a9c.firebaseapp.com",projectId:"weather-route-e1a9c",storageBucket:"weather-route-e1a9c.appspot.com",messagingSenderId:"184699653844",appId:"1:184699653844:web:74997c51e6e4b49ed83541"}),b=Object(j.f)(),h=Object(u.b)(m),f=function(){return Object(u.d)(h)},p=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,O=240,x={home:"/home",savedRoutes:"/saved-routes",getDisplayRouteLink:function(e){return"/display-route/".concat(e)},displayRoute:"/display-route/:id",weather:"/weather",profile:"/profile",security:"/security",signIn:"/signin",signUp:"/signup"},v=n(142),g=n.n(v),w=n(264),y=n(265),S=n(244),C=n(239),V=n(257),k=n(267),P=n(263),M=n(256),I=n(240),E=n(241),T=n(262),W=n(81),R=n(2);function A(){var e=a.useState(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=function(){r(!n)},s=[{title:"Home",url:x.home,icon:"home"},{title:"Saved Routes",url:x.savedRoutes,icon:"star"},{title:"Weather",url:x.weather,icon:"wb_sunny"}],l=[{title:"Profile",url:x.profile,icon:"account_circle"},{title:"Security",url:x.security,icon:"lock"}],u=Object(R.jsxs)("div",{children:[Object(R.jsx)(T.a,{}),Object(R.jsx)(C.a,{}),Object(R.jsx)(P.a,{onClick:i,children:s.map((function(e){return Object(R.jsxs)(M.a,{button:!0,component:c.b,to:e.url,children:[Object(R.jsx)(I.a,{children:Object(R.jsx)(w.a,{children:e.icon})}),Object(R.jsx)(E.a,{primary:e.title})]},e.title)}))}),Object(R.jsx)(C.a,{}),Object(R.jsxs)(P.a,{onClick:i,children:[l.map((function(e){return Object(R.jsxs)(M.a,{button:!0,component:c.b,to:e.url,children:[Object(R.jsx)(I.a,{children:Object(R.jsx)(w.a,{children:e.icon})}),Object(R.jsx)(E.a,{primary:e.title})]},e.title)})),Object(R.jsxs)(M.a,{button:!0,onClick:function(){return location.reload()},children:[Object(R.jsx)(I.a,{children:Object(R.jsx)(w.a,{children:"refresh"})}),Object(R.jsx)(E.a,{primary:"Refresh"})]}),Object(R.jsxs)(M.a,{button:!0,onClick:f,children:[Object(R.jsx)(I.a,{children:Object(R.jsx)(w.a,{children:"logout"})}),Object(R.jsx)(E.a,{primary:"Sign Out"})]})]})]});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(y.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(O,"px)")},ml:{sm:"".concat(O,"px")}},children:Object(R.jsxs)(T.a,{children:[Object(R.jsx)(k.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,sx:{mr:2,display:{sm:"none"}},children:Object(R.jsx)(g.a,{})}),Object(R.jsx)(W.a,{variant:"h6",noWrap:!0,component:"div",children:"Weather Route"}),Object(R.jsx)(k.a,{color:"inherit",onClick:function(){return location.reload()},sx:{marginLeft:"auto"},children:Object(R.jsx)(w.a,{children:"map"})})]})}),Object(R.jsxs)(S.a,{component:"nav",sx:{width:{sm:O},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(R.jsx)(V.a,{container:void 0,variant:"temporary",open:n,onClose:i,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:O}},children:u}),Object(R.jsx)(V.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:O}},open:!0,children:u})]})]})}var L=n(0),B=n.n(L),U=n(6),D=n(13),N=n(247);function z(e){return Object(R.jsxs)(N.a,{sx:{mt:1},children:[Object(R.jsx)("b",{children:e.label}),Object(R.jsx)("br",{}),e.children]})}var q=n(117),F=r.a.forwardRef((function(e,t){return Object(R.jsx)("div",{ref:t,style:{height:"100%"}})}));function _(e){var t,n=e.directionsQuery,r=e.beginEndCallback,i=e.sx,s=Object(a.useState)(null),c=Object(o.a)(s,2),l=c[0],u=c[1],d=Object(a.useCallback)((function(e){e&&u(e)}),[]);return Object(R.jsx)(N.a,{height:"100%",sx:i,children:Object(R.jsxs)(q.a,{googleMapsAPIKey:null!==(t="AIzaSyC7z_by3P2gLvavfO81-W_1AqGmqSQkkoc")?t:"",mapContainer:l,options:{zoom:8,fullscreenControl:!1,streetViewControl:!1,zoomControl:!1,mapTypeControl:!1},onLoad:function(e){return e.setZoom(4)},children:[Object(R.jsx)(F,{ref:d}),Object(R.jsx)(Q,{directionsQuery:n,beginEndCallback:r,legCallback:e.legCallback})]})})}function Q(e){var t=e.directionsQuery,n=e.beginEndCallback,r=e.legCallback,i=Object(q.b)({renderOnMap:!0,renderOptions:{}}).findAndRenderRoute;return Object(a.useEffect)((function(){i&&t.start&&t.end&&i({origin:t.start,destination:t.end,travelMode:google.maps.TravelMode.DRIVING}).then((function(e){var t=e.routes[0].legs[0];n&&n({beginLocation:{lat:t.start_location.lat(),lon:t.start_location.lng()},endLocation:{lat:t.end_location.lat(),lon:t.end_location.lng()},beginAddress:t.start_address,endAddress:t.end_address}),r&&r(t)})).catch((function(e){n&&n(null),console.error("Error finding route:",e)}))}),[t.start,t.end,i]),Object(R.jsx)(R.Fragment,{})}F.displayName="MapCanvas",_.displayName="Map";var G=r.a.memo(_),J=n(22),Z=function(e){return e?{id:e.uid,name:e.displayName,email:e.email,phone:e.phoneNumber,lastSignIn:e.metadata.lastSignInTime&&new Date(e.metadata.lastSignInTime)||void 0}:null},H=function(){return Z(h.currentUser)},K=n(143),$=n.n(K),X=function(e,t){return $()("".concat("https://api.openweathermap.org/data/2.5","/onecall"),{params:{lat:e,lon:t,appid:"9539a9cdf9b5b4f1827106f5cc5eafbf",units:"imperial"}}).then((function(e){return e.data}))},Y=n(268),ee=n(269),te=n(270);function ne(){var e,t,n=Object(l.g)(),i=r.a.useState(),s=Object(o.a)(i,2),c=s[0],u=s[1],d=r.a.useState(),m=Object(o.a)(d,2),h=m[0],f=m[1],p=r.a.useState(0),O=Object(o.a)(p,2),x=O[0],v=O[1],g=r.a.useState([]),w=Object(o.a)(g,2),y=w[0],S=w[1];function C(){return(C=Object(U.a)(B.a.mark((function e(t){var n,a,r,i,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(D.a)(t),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=13;break}return i=r.value,e.next=8,X(i.point.lat,i.point.lon);case 8:s=e.sent,n.push({time:i.time,point:i.point,weather:s.current}),v((function(e){return e+100/t.length}));case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return v(100),e.abrupt("return",n);case 23:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){(function(e){var t=H();return t?Object(j.d)(Object(j.c)(b,t.id,e)).then((function(e){return Promise.resolve(e.data())})).catch((function(){return Promise.reject()})):Promise.reject()})(n.id).then((function(e){return u(e)}))}),[]),Object(a.useEffect)((function(){if(h){var e=function(e,t){for(var n=[],a=function(t){var a=e.findIndex((function(e){return e.time>=t}));if(0===a)n.push(e[0]);else{var r=e[a],i=e[a+-1],s=Math.abs(r.time-t)<Math.abs(i.time-t)?r:i;0!=n.length&&n[n.length-1].time===s.time||n.push(s)}},r=0;r<e[e.length-1].time;r+=t)a(r);return n}(function(e){var t,n=[],a=0,r=Object(D.a)(e.steps);try{for(r.s();!(t=r.n()).done;){var i,s,o=t.value;n.push({time:a,point:{lat:o.start_location.lat(),lon:o.start_location.lng()}}),a+=null!==(i=null===(s=o.duration)||void 0===s?void 0:s.value)&&void 0!==i?i:0}}catch(c){r.e(c)}finally{r.f()}return n.push({time:a,point:{lat:e.end_location.lat(),lon:e.end_location.lng()}}),n}(h),900);console.log(e),function(e){return C.apply(this,arguments)}(e).then((function(e){S(e)}))}}),[h]),c?Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(W.a,{variant:"h1",children:"Route"}),Object(R.jsx)(W.a,{variant:"h2",sx:{mb:3},children:c.name}),Object(R.jsx)(z,{label:"Begin",children:c.beginAddress}),Object(R.jsx)(z,{label:"End",children:c.endAddress}),h&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(z,{label:"Duration",children:null===(e=h.duration)||void 0===e?void 0:e.text}),Object(R.jsx)(z,{label:"Distance",children:null===(t=h.distance)||void 0===t?void 0:t.text})]}),Object(R.jsx)(W.a,{variant:"h2",sx:{mb:3},children:"Weather"}),100!==x?Object(R.jsx)(te.a,{variant:"determinate",value:x}):y.map((function(e,t){return Object(R.jsxs)("p",{children:["Time: ",e.time,", Temp: ",e.weather.temp]},t)})),Object(R.jsx)(W.a,{variant:"h2",sx:{mb:3},children:"Map"}),Object(R.jsx)(G,{directionsQuery:{start:"".concat(c.beginLocation.lat,", ").concat(c.beginLocation.lon),end:"".concat(c.endLocation.lat,", ").concat(c.endLocation.lon)},legCallback:function(e){f(e)},sx:{mt:3,pb:3}})]}):Object(R.jsx)(Y.a,{sx:{textAlign:"center",mt:5},children:Object(R.jsx)(ee.a,{})})}function ae(){return Object(R.jsx)(G,{directionsQuery:{start:"logan, ut",end:"ogden, ut"}})}var re,ie=r.a.memo(ae);n(85);!function(e){e.auth="auth",e.user="user"}(re||(re={}));var se=function(e){var t=oe[e.code];return null!==t&&void 0!==t?t:e.message.replace("Firebase: ","").replace(" (".concat(e.code,")"),"")},oe={"auth/email-already-exists":"An account already exists with this email.","auth/requires-recent-login":"Recent login required. Please sign out then sign back in to perform this action","auth/weak-password":"This password is too weak","auth/invalid-password":"This password is invalid.","auth/invalid-email":"Email address is invalid","auth/user-not-found":"Account does not exist for this email address","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account already exists with this email"},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};function le(e){var t,n={values:{},messages:{},isValid:{},touched:{},validators:{},formValid:!1,formMessage:"",attemptedSubmit:!1},a=Object(D.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.values[r]="",n.messages[r]="",n.isValid[r]=!1,n.touched[r]=!1,n.validators[r]=function(){return n}}}catch(i){a.e(i)}finally{a.f()}return n}function ue(e){for(var t in(e=de(e)).touched)e.touched[t]=!0;return e.attemptedSubmit=!0,e.formValid||(e.formMessage="Please fix the errors in the form"),e}function de(e){var t=!0;for(var n in e.validators)(e=e.validators[n](e)).isValid[n]||(t=!1);return e.formValid=t,e}function je(e,t){var n=e.target.name,a=e.target.value;t.isValid[n]||(t=t.validators[n](t));var r=t.values;return r[n]=a,Object(J.a)(Object(J.a)({},t),{},{values:r})}var me=n(253),be=n(254),he=n(259),fe=["name","email"],pe=function(e){return e.isValid.email=!!e.values.email.match(p),e.messages.email=e.isValid.email?"":"Invalid email address",Object(J.a)({},e)},Oe=function(e){return e.isValid.name=e.values.name.length>0,e.messages.name=e.isValid.name?"":"Required",Object(J.a)({},e)};var xe=function(){var e=Object(a.useContext)(Je),t=e.user,n=e.updateUser,i=r.a.useState(!1),s=Object(o.a)(i,2),c=s[0],l=s[1],d=r.a.useState(function(e){var t,n;return Object(J.a)(Object(J.a)({},le(fe)),{},{values:{name:null!==(t=e.name)&&void 0!==t?t:"",email:null!==(n=e.email)&&void 0!==n?n:""},validators:{email:pe,name:Oe}})}(t)),j=Object(o.a)(d,2),m=j[0],b=j[1],f=r.a.useState(!1),p=Object(o.a)(f,2),O=p[0],x=p[1];return Object(a.useEffect)((function(){return x(t.name!==m.values.name||t.email!==m.values.email)}),[m]),Object(R.jsxs)(N.a,{component:"form",onSubmit:function(e){var a,r;e.preventDefault(),b((function(e){return ue(e)})),m.formValid&&(l(!0),Promise.all([t.name!==m.values.name?(r=m.values.name,h.currentUser?Object(u.g)(h.currentUser,{displayName:r}):Promise.reject()):Promise.resolve(),t.email!==m.values.email?(a=m.values.email,h.currentUser?Object(u.e)(h.currentUser,a):Promise.reject()):Promise.resolve()]).then((function(){return n()})).catch((function(e){return b((function(t){return Object(J.a)(Object(J.a)({},t),{},{formMessage:se(e)})}))})).finally((function(){return l(!1)})))},noValidate:!0,children:[Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"Name",name:"name",defaultValue:t.name,margin:"normal",onChange:function(e){return b((function(t){return je(e,t)}))},onBlur:function(){m.touched.name=!0,b((function(e){return de(e)}))},error:m.touched.name&&!m.isValid.name,helperText:m.touched.name&&m.messages.name}),Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"Email",type:"email",name:"email",defaultValue:t.email,margin:"normal",onChange:function(e){return b((function(t){return je(e,t)}))},onBlur:function(){m.touched.email=!0,b((function(e){return de(e)}))},error:m.touched.email&&!m.isValid.email,helperText:m.touched.email&&m.messages.email}),m.attemptedSubmit&&m.formMessage&&Object(R.jsx)(be.a,{sx:{mt:2},severity:"error",children:m.formMessage||"Form error"}),Object(R.jsx)(he.a,{type:"submit",disabled:c,fullWidth:!0,variant:"contained",sx:{mt:2,display:O?"default":"none"},children:c?Object(R.jsx)(ee.a,{size:24,color:"inherit"}):"Save Changes"})]})};function ve(){return Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(W.a,{variant:"h1",children:"Edit Profile"}),Object(R.jsx)(xe,{})]})}var ge=n(275),we=n(147),ye=n(118),Se=r.a.forwardRef((function(e,t){var n=e.href,a=Object(we.a)(e,["href"]);return Object(R.jsx)(c.b,Object(J.a)({ref:t,to:n},a))}));Se.displayName="LinkBehavior";var Ce=Object(ye.a)({palette:{primary:{main:"#2a8544"},secondary:{main:"#f50057"}},components:{MuiLink:{defaultProps:{component:Se}},MuiButtonBase:{defaultProps:{LinkComponent:Se}}},typography:{h1:{color:"#2a8544",fontSize:"2.5rem",fontWeight:"500",marginTop:"1.5rem"},h2:{color:"#2a8544",fontSize:"1.5rem",fontWeight:"500",marginTop:"1.5rem"}}}),Ve=n(248),ke=["name","start","end"],Pe=function(e){return e.isValid.name=e.values.name.length>0,e.messages.name=e.isValid.name?"":"Required",Object(J.a)({},e)},Me=function(e){return e.isValid.start=e.values.start.length>0,e.messages.start=e.isValid.start?"":"Required",Object(J.a)({},e)},Ie=function(e){return e.isValid.end=e.values.end.length>0,e.messages.end=e.isValid.end?"":"Required",Object(J.a)({},e)},Ee="new-saved-route-form";var Te=function(e){var t=e.setSubmitting,n=e.submitCallback,a=r.a.useState(Object(J.a)(Object(J.a)({},le(ke)),{},{validators:{name:Pe,start:Me,end:Ie}})),i=Object(o.a)(a,2),s=i[0],c=i[1],l=r.a.useState(),u=Object(o.a)(l,2),d=u[0],m=u[1],h=r.a.useState(),f=Object(o.a)(h,2),p=f[0],O=f[1];function x(){m({start:s.values.start,end:s.values.end})}return Object(R.jsxs)(Ve.a,{gap:2,children:[Object(R.jsxs)(N.a,{id:Ee,component:"form",onSubmit:function(e){e.preventDefault(),c((function(e){return ue(e)})),s.formValid&&(p?(t(!0),function(e){var t=H();if(!t)return Promise.reject();var n=Object(j.a)(b,t.id);return Object(j.g)(Object(j.c)(n),e).then((function(){return Promise.resolve()})).catch((function(){return Promise.reject()}))}(Object(J.a)({name:s.values.name},p)).then((function(){n()})).catch((function(e){return c((function(t){return Object(J.a)(Object(J.a)({},t),{},{formMessage:se(e)})}))})).finally((function(){return t(!1)}))):c((function(e){return Object(J.a)(Object(J.a)({},e),{},{formMessage:"No route found"})})))},noValidate:!0,sx:{height:"100%"},children:[Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"Route Name",name:"name",margin:"normal",onChange:function(e){return c((function(t){return je(e,t)}))},onBlur:function(){s.touched.name=!0,c((function(e){return de(e)}))},error:s.touched.name&&!s.isValid.name,helperText:s.touched.name&&s.messages.name}),Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"Start Location",name:"start",margin:"normal",onChange:function(e){return c((function(t){return je(e,t)}))},onBlur:function(){s.touched.start=!0,c((function(e){return de(e)})),x()},error:s.touched.start&&!s.isValid.start,helperText:s.touched.start&&s.messages.start}),Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"End Location",name:"end",margin:"normal",onChange:function(e){return c((function(t){return je(e,t)}))},onBlur:function(){s.touched.end=!0,c((function(e){return de(e)})),x()},error:s.touched.end&&!s.isValid.end,helperText:s.touched.end&&s.messages.end}),s.attemptedSubmit&&s.formMessage&&Object(R.jsx)(be.a,{sx:{mt:2},severity:"error",children:s.formMessage||"Form error"})]}),(null===d||void 0===d?void 0:d.start)&&d.end&&Object(R.jsx)(G,{directionsQuery:d,beginEndCallback:function(e){return O(e)},sx:{height:"20rem"}})]})},We=n(249),Re=n(271),Ae=n(250),Le=n(272),Be=n(273);function Ue(e){var t=e.open,n=e.onClose,a=Object(We.a)(Ce.breakpoints.down("sm")),i=r.a.useState(!1),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(R.jsxs)(Re.a,{fullScreen:a,open:t,fullWidth:!0,maxWidth:"sm",scroll:"paper",children:[Object(R.jsx)(Ae.a,{children:"New Saved Route"}),Object(R.jsx)(Le.a,{dividers:!0,children:Object(R.jsx)(Te,{setSubmitting:l,submitCallback:n})}),Object(R.jsxs)(Be.a,{sx:{pb:a?5:"default"},children:[Object(R.jsx)(he.a,{onClick:n,children:"Cancel"}),Object(R.jsx)(he.a,{type:"submit",disabled:c,variant:"contained",form:Ee,children:c?Object(R.jsx)(ee.a,{size:24,color:"inherit"}):"Create Route"})]})]})}var De=n(251),Ne=n(146),ze=n(274);function qe(e){var t=e.route,n=e.changeCallback,r=Object(a.useState)(null),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Boolean(s);return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(M.a,{disablePadding:!0,button:!0,component:c.b,to:x.getDisplayRouteLink(t.id),secondaryAction:Object(R.jsx)(k.a,{onClick:function(e){l(e.currentTarget)},children:Object(R.jsx)(w.a,{children:"more_vert"})}),children:[Object(R.jsxs)(De.a,{children:[Object(R.jsx)(I.a,{children:Object(R.jsx)(w.a,{children:"directions"})}),Object(R.jsx)(E.a,{primary:t.name,secondary:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("span",{style:{display:"block"},children:t.beginAddress?t.beginAddress.replace(", USA",""):"".concat(ce(t.beginLocation.lat),"\xba, ").concat(ce(t.beginLocation.lon),"\xba")}),Object(R.jsx)("span",{style:{display:"block"},children:t.endAddress?t.endAddress.replace(", USA",""):"".concat(ce(t.endLocation.lat),"\xba, ").concat(ce(t.endLocation.lon),"\xba")})]})})]}),Object(R.jsx)(Ne.a,{id:"basic-menu",anchorEl:s,open:u,onClose:function(){l(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(R.jsx)(ze.a,{onClick:function(){(function(e){var t=H();return t?Object(j.b)(Object(j.c)(Object(j.a)(b,t.id),e)).then((function(){return Promise.resolve()})).catch((function(){return Promise.reject()})):Promise.reject()})(t.id).then((function(){return n()})).catch((function(){return alert("Error deleting saved route")}))},children:"Delete route"})})]})})}var Fe=function(){var e=r.a.useState(),t=Object(o.a)(e,2),n=t[0],i=t[1],s=r.a.useState(),c=Object(o.a)(s,2),l=c[0],u=c[1],d=r.a.useState(!1),m=Object(o.a)(d,2),h=m[0],f=m[1];Object(a.useEffect)((function(){return p()}),[]);var p=function(){(function(){var e=H();return e?Object(j.e)(Object(j.a)(b,e.id)).then((function(e){var t=[];return e.forEach((function(e){return t.push(Object(J.a)(Object(J.a)({},e.data()),{},{id:e.id}))})),Promise.resolve(t)})).catch((function(){return Promise.reject()})):Promise.reject()})().then((function(e){return i(e)})).catch((function(){return u("Error loading saved routes")}))};return Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(W.a,{variant:"h1",sx:{mb:2},children:"Saved Routes"}),Object(R.jsx)(ge.a,{color:"primary",onClick:function(){return f(!0)},sx:{position:"fixed",bottom:"2rem",right:"1.5rem",zIndex:1e3},children:Object(R.jsx)(w.a,{children:"add"})}),l?Object(R.jsx)(be.a,{severity:"error",children:l}):n?0===n.length?Object(R.jsxs)("p",{children:["No saved routes. Click the"," ",Object(R.jsx)(w.a,{sx:{fontSize:"1rem",fontWeight:"bold"},children:"add"})," icon to add a new one."]}):Object(R.jsx)(P.a,{children:n.map((function(e){return Object(R.jsx)("div",{children:Object(R.jsx)(qe,{route:e,changeCallback:p})},e.id)}))}):Object(R.jsx)(ee.a,{sx:{display:"block",mx:"auto",mt:3}}),Object(R.jsx)(Ue,{open:h,onClose:function(){f(!1),p()}})]})},_e=["password1","password2"],Qe=function(e){return e.isValid.password1=e.values.password1.length>0,e.messages.password1=e.isValid.password1?"":"Required",Object(J.a)({},e)},Ge=function(e){return e.isValid.password2=e.values.password1===e.values.password2,e.messages.password2=e.isValid.password2?"":"Passwords do not match",Object(J.a)({},e)};var Je,Ze=function(){var e=Object(a.useContext)(Je).updateUser,t=r.a.useState(!1),n=Object(o.a)(t,2),i=n[0],s=n[1],c=r.a.useState(Object(J.a)(Object(J.a)({},le(_e)),{},{validators:{password1:Qe,password2:Ge}})),l=Object(o.a)(c,2),d=l[0],j=l[1];return Object(R.jsxs)(N.a,{component:"form",onSubmit:function(t){var n;t.preventDefault(),j((function(e){return ue(e)})),d.formValid&&(s(!0),(n=d.values.password1,h.currentUser?Object(u.f)(h.currentUser,n):Promise.reject()).then((function(){return e()})).catch((function(e){return j((function(t){return Object(J.a)(Object(J.a)({},t),{},{formMessage:se(e)})}))})).finally((function(){return s(!1)})))},noValidate:!0,children:[Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"New Password",type:"password",name:"password1",margin:"normal",onChange:function(e){return j((function(t){return je(e,t)}))},onBlur:function(){d.touched.password1=!0,j((function(e){return de(e)}))},error:d.touched.password1&&!d.isValid.password1,helperText:d.touched.password1&&d.messages.password1}),Object(R.jsx)(me.a,{variant:"standard",fullWidth:!0,label:"Confirm New Password",type:"password",name:"password2",margin:"normal",onChange:function(e){return j((function(t){return je(e,t)}))},onBlur:function(){d.touched.password2=!0,j((function(e){return de(e)}))},error:d.touched.password2&&!d.isValid.password2,helperText:d.touched.password2&&d.messages.password2}),d.attemptedSubmit&&d.formMessage&&Object(R.jsx)(be.a,{sx:{mt:2},severity:"error",children:d.formMessage||"Form error"}),Object(R.jsx)(he.a,{type:"submit",disabled:i,fullWidth:!0,variant:"contained",sx:{mt:2},children:i?Object(R.jsx)(ee.a,{size:24,color:"inherit"}):"Change Password"})]})};function He(){return Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(W.a,{variant:"h1",children:"Change Password"}),Object(R.jsx)(Ze,{})]})}function Ke(){var e=r.a.useState(void 0),t=Object(o.a)(e,2),n=t[0],i=t[1],s=r.a.useState(),c=Object(o.a)(s,2),l=c[0],u=c[1],d=r.a.useState(),j=Object(o.a)(d,2),m=j[0],b=j[1];return Object(a.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){return i(e)}),(function(e){switch(e.code){case e.PERMISSION_DENIED:i(null),b("Location request denied");break;case e.POSITION_UNAVAILABLE:i(null),b("Location information is unavailable");break;case e.TIMEOUT:i(null),b("Location request timed out");break;default:i(null),b("An unknown error occurred while getting the location")}})):alert("Geolocation is not supported by this browser.")}),[]),Object(a.useEffect)((function(){n&&n&&X(n.coords.latitude,n.coords.longitude).then((function(e){return u(e.current)})).catch((function(e){return b(e.response.data.message)}))}),[n]),Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(W.a,{variant:"h1",children:"Weather"}),Object(R.jsx)("p",{children:"Weather for current location"}),!m&&(!l||!n)&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(W.a,{variant:"overline",children:n?"Getting weather...":"Getting current location..."}),Object(R.jsx)(te.a,{})]}),m&&Object(R.jsx)(be.a,{severity:"error",children:m}),l&&Object(R.jsxs)("div",{children:[Object(R.jsxs)(z,{label:"Temperature",children:[null===l||void 0===l?void 0:l.temp,"\xbaF"]}),Object(R.jsxs)(z,{label:"Humidity",children:[null===l||void 0===l?void 0:l.humidity,"%"]}),Object(R.jsxs)(z,{label:"Cloud Cover",children:[null===l||void 0===l?void 0:l.clouds,"%"]})]})]})}var $e=function(e){var t=Object(a.useState)(e.user),n=Object(o.a)(t,2),i=n[0],s=n[1],u=function(){var e=H();e&&s(e)};return Je=r.a.createContext({user:i,updateUser:u}),Object(R.jsx)(Je.Provider,{value:{user:i,updateUser:u},children:Object(R.jsx)(S.a,{sx:{display:"flex",height:"100vh"},children:Object(R.jsxs)(c.a,{basename:"/",children:[Object(R.jsx)(A,{}),Object(R.jsx)(S.a,{component:"main",sx:{height:"100%",flexGrow:1,width:{sm:"calc(100% - ".concat(O,"px)")}},children:Object(R.jsxs)(Ve.a,{height:"100%",children:[Object(R.jsx)(T.a,{}),Object(R.jsxs)(l.d,{children:[Object(R.jsx)(l.b,{exact:!0,path:x.home,component:ie}),Object(R.jsx)(l.b,{exact:!0,path:x.savedRoutes,component:Fe}),Object(R.jsx)(l.b,{exact:!0,path:x.displayRoute,component:ne}),Object(R.jsx)(l.b,{exact:!0,path:x.weather,component:Ke}),Object(R.jsx)(l.b,{exact:!0,path:x.profile,component:ve}),Object(R.jsx)(l.b,{exact:!0,path:x.security,component:He}),Object(R.jsx)(l.b,{path:"/",children:Object(R.jsx)(l.a,{to:x.home})})]})]})})]})})})},Xe=n(276),Ye=["email","password"],et=function(e){return e.isValid.email=!!e.values.email.match(p),e.messages.email=e.isValid.email?"":"Invalid email address",Object(J.a)({},e)},tt=function(e){return e.isValid.password=e.values.password.length>0,e.messages.password=e.isValid.password?"":"Required",Object(J.a)({},e)};var nt=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],i=r.a.useState(Object(J.a)(Object(J.a)({},le(Ye)),{},{validators:{email:et,password:tt}})),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(R.jsxs)(S.a,{component:"form",onSubmit:function(e){var t,n;e.preventDefault(),l((function(e){return ue(e)})),c.formValid&&(a(!0),(t=c.values.email,n=c.values.password,Object(u.c)(h,t,n).then((function(){return Promise.resolve()}))).catch((function(e){return l((function(t){return Object(J.a)(Object(J.a)({},t),{},{formMessage:se(e)})}))})).finally((function(){return a(!1)})))},noValidate:!0,sx:{mt:1},children:[Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,type:"email",id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.email=!0,l((function(e){return de(e)}))},error:c.touched.email&&!c.isValid.email,helperText:c.touched.email&&c.messages.email}),Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.password=!0,l((function(e){return de(e)}))},error:c.touched.password&&!c.isValid.password,helperText:c.touched.password&&c.messages.password}),c.attemptedSubmit&&c.formMessage&&Object(R.jsx)(be.a,{sx:{mt:2},severity:"error",children:c.formMessage||"Form error"}),Object(R.jsx)(he.a,{type:"submit",disabled:n,fullWidth:!0,variant:"contained",sx:{mt:2,mb:2},children:n?Object(R.jsx)(ee.a,{size:24,color:"inherit"}):"Sign In"}),Object(R.jsx)(Xe.a,{href:x.signUp,variant:"body2",children:"Don't have an account? Sign Up"})]})},at=n(144),rt=n.n(at),it=n(260);function st(){return Object(R.jsx)(Y.a,{children:Object(R.jsxs)(S.a,{sx:{mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(R.jsx)(it.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(R.jsx)(rt.a,{})}),Object(R.jsx)(W.a,{component:"h1",variant:"h5",children:"Sign In"}),Object(R.jsx)(nt,{})]})})}var ot=["name","email","password1","password2"],ct=function(e){return e.isValid.name=e.values.name.length>0,e.messages.name=e.isValid.name?"":"Required",Object(J.a)({},e)},lt=function(e){return e.isValid.email=!!e.values.email.match(p),e.messages.email=e.isValid.email?"":"Invalid email address",Object(J.a)({},e)},ut=function(e){return e.isValid.password1=e.values.password1.length>4,e.messages.password1=e.isValid.password1?"":"Must be at least 5 characters long",Object(J.a)({},e)},dt=function(e){return e.isValid.password2=e.values.password2===e.values.password1,e.messages.password2=e.isValid.password2?"":"Passwords do not match",Object(J.a)({},e)},jt=function(){return Object(J.a)(Object(J.a)({},le(ot)),{},{validators:{name:ct,email:lt,password1:ut,password2:dt}})};var mt=function(){var e=a.useState(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=a.useState(jt),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(R.jsxs)(S.a,{component:"form",onSubmit:function(e){var t,n,a;e.preventDefault(),l((function(e){return ue(e)})),c.formValid&&(r(!0),(t=c.values.email,n=c.values.password1,a=c.values.name,Object(u.a)(h,t,n).then((function(e){return Object(u.g)(e.user,{displayName:a})}))).catch((function(e){return l((function(t){return Object(J.a)(Object(J.a)({},t),{},{formMessage:se(e)})}))})).finally((function(){return r(!1)})))},noValidate:!0,sx:{mt:1},children:[Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.name=!0,l((function(e){return de(e)}))},error:c.touched.name&&!c.isValid.name,helperText:c.touched.name&&c.messages.name}),Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",autoComplete:"email",onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.email=!0,l((function(e){return de(e)}))},error:c.touched.email&&!c.isValid.email,helperText:c.touched.email&&c.messages.email}),Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,name:"password1",label:"Password",type:"password",id:"password1",autoComplete:"new-password",onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.password1=!0,l((function(e){return de(e)}))},error:c.touched.password1&&!c.isValid.password1,helperText:c.touched.password1&&c.messages.password1}),Object(R.jsx)(me.a,{margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"new-password",onChange:function(e){return l((function(t){return je(e,t)}))},onBlur:function(){c.touched.password2=!0,l((function(e){return de(e)}))},error:c.touched.password2&&!c.isValid.password2,helperText:c.touched.password2&&c.messages.password2}),c.attemptedSubmit&&c.formMessage&&Object(R.jsx)(be.a,{sx:{mt:2},severity:"error",children:c.formMessage||"Form error"}),Object(R.jsx)(he.a,{type:"submit",disabled:n,fullWidth:!0,variant:"contained",sx:{mt:2,mb:2},children:n?Object(R.jsx)(ee.a,{size:24,color:"inherit"}):"Sign Up"}),Object(R.jsx)(Xe.a,{href:x.signIn,variant:"body2",children:"Already have an account? Sign In"})]})},bt=n(145),ht=n.n(bt);function ft(){return Object(R.jsx)(Y.a,{children:Object(R.jsxs)(S.a,{sx:{mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(R.jsx)(it.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(R.jsx)(ht.a,{})}),Object(R.jsx)(W.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(R.jsx)(mt,{})]})})}var pt=function(){return Object(R.jsx)("div",{className:"app-unauthorized",children:Object(R.jsx)(c.a,{basename:"/",children:Object(R.jsxs)(l.d,{children:[Object(R.jsx)(l.b,{exact:!0,path:x.signIn,component:st}),Object(R.jsx)(l.b,{exact:!0,path:x.signUp,component:ft}),Object(R.jsx)(l.a,{push:!0,to:x.signIn})]})})})},Ot=n(252),xt=n(261),vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.onAuthStateChanged((function(e){var t=Z(e);t?s.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsxs)(xt.a,{theme:Ce,children:[Object(R.jsx)(Ot.a,{}),Object(R.jsx)($e,{user:t})]})}),document.getElementById("root")):s.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsxs)(xt.a,{theme:Ce,children:[Object(R.jsx)(Ot.a,{}),Object(R.jsx)(pt,{})]})}),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),vt()}},[[199,1,2]]]);
//# sourceMappingURL=main.d4a4957b.chunk.js.map